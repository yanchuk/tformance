<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        // Theme detection - runs before page renders to prevent flash
        (function() {
            const stored = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = stored || (prefersDark ? 'dark' : 'light');
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Impact on Software Engineering - 2025 OSS Analysis</title>

    <!-- Modern Stack: Tailwind CSS + Alpine.js + Chart.js -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>

    <!-- Tailwind Config for Custom Theme -->
    <script>
        tailwind.config = {
            darkMode: ['selector', '[data-theme="dark"]'],
            theme: {
                extend: {
                    colors: {
                        primary: '#F97316',
                        secondary: '#5a9997',
                        success: '#22c55e',
                        warning: '#eab308',
                        error: '#ef4444',
                        purple: '#a855f7',
                        // Dark theme
                        'dark-bg': '#1e1e1e',
                        'dark-card': '#2a2a28',
                        'dark-text': '#ccc9c0',
                        'dark-muted': '#8a8880',
                        'dark-border': '#3c3c3a',
                        // Light theme
                        'light-bg': '#f8f9fa',
                        'light-card': '#ffffff',
                        'light-text': '#1f2937',
                        'light-muted': '#6b7280',
                        'light-border': '#e5e7eb',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #F97316;
            --secondary: #5a9997;
            --success: #22c55e;
            --warning: #eab308;
            --error: #ef4444;
            --purple: #a855f7;
        }

        [data-theme="dark"] {
            --bg-main: #1e1e1e;
            --bg-card: #2a2a28;
            --text: #ccc9c0;
            --text-muted: #8a8880;
            --border: #3c3c3a;
            --grid: #3c3c3a;
        }

        [data-theme="light"] {
            --bg-main: #f8f9fa;
            --bg-card: #ffffff;
            --text: #1f2937;
            --text-muted: #6b7280;
            --border: #e5e7eb;
            --grid: #e5e7eb;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-main);
            color: var(--text);
            line-height: 1.6;
            padding: 2rem;
            transition: background 0.3s, color 0.3s;
        }

        .report-content { max-width: 1400px; margin: 0 auto; }

        header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: var(--bg-card);
            border-radius: 16px;
            border: 1px solid var(--border);
            position: relative;
        }

        .theme-toggle {
            background: var(--bg-main);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 0.5rem 1rem;
            color: var(--text);
            cursor: pointer;
            font-family: inherit;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 100%;
            margin: 1rem 0;
            font-size: 0.75rem;
        }

        .theme-toggle:hover { border-color: var(--primary); background: rgba(249, 115, 22, 0.08); }

        h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; }
        .subtitle { color: var(--primary); font-size: 1.25rem; font-weight: 500; }
        .meta { color: var(--text-muted); font-size: 0.9rem; margin-top: 1rem; }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }

        .stat-value {
            font-size: 2.25rem;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            color: var(--primary);
        }

        .stat-value.positive { color: var(--success); }
        .stat-value.negative { color: var(--error); }
        .stat-value.neutral { color: var(--secondary); }

        .stat-label { color: var(--text-muted); font-size: 0.85rem; margin-top: 0.5rem; }

        section { margin: 3rem 0; }
        h2 {
            font-size: 2rem !important;
            font-weight: 700 !important;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
        }
        h3 { font-size: 1.25rem; color: var(--text); margin: 1.5rem 0 1rem; }

        .chart-container {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .chart-wrapper { position: relative; height: 300px; }
        .chart-wrapper.tall { height: 450px; }
        .chart-wrapper.extra-tall { height: 550px; }

        .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
        .three-col { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; }

        @media (max-width: 1024px) { .three-col { grid-template-columns: 1fr 1fr; } }
        @media (max-width: 768px) { .two-col, .three-col { grid-template-columns: 1fr; } }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: rgba(249, 115, 22, 0.1);
            color: var(--primary);
            font-weight: 600;
        }

        tr:hover { background: rgba(249, 115, 22, 0.05); }

        .badge {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            font-family: 'JetBrains Mono', monospace;
        }

        .badge-success { background: rgba(34, 197, 94, 0.2); color: var(--success); }
        .badge-warning { background: rgba(234, 179, 8, 0.2); color: var(--warning); }
        .badge-error { background: rgba(239, 68, 68, 0.2); color: var(--error); }
        .badge-primary { background: rgba(249, 115, 22, 0.2); color: var(--primary); }
        .badge-purple { background: rgba(168, 85, 247, 0.2); color: var(--purple); }

        /* Table Pagination */
        .table-pagination {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
            padding: 0.75rem;
            background: var(--bg-card);
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        .pagination-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text);
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }

        .pagination-btn:hover:not(:disabled) {
            border-color: var(--primary);
            color: var(--primary);
            background: rgba(249, 115, 22, 0.1);
        }

        .pagination-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .pagination-info {
            font-size: 0.85rem;
            color: var(--text-muted);
            font-family: 'JetBrains Mono', monospace;
        }

        /* Sortable Table Headers */
        .sortable-header {
            cursor: pointer;
            user-select: none;
            transition: background 0.2s, color 0.2s;
            position: relative;
        }

        .sortable-header:hover {
            background: rgba(249, 115, 22, 0.15);
            color: var(--primary);
        }

        .sort-indicator {
            font-size: 0.7rem;
            margin-left: 0.25rem;
            opacity: 0.8;
        }

        .insight-box {
            background: rgba(90, 153, 151, 0.1);
            border-left: 4px solid var(--secondary);
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .insight-box strong { color: var(--secondary); }

        /* Table of Contents - Always Visible Sidebar */
        .toc-sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 220px;
            height: 100vh;
            background: linear-gradient(180deg, var(--bg-card) 0%, rgba(42, 42, 40, 0.98) 100%);
            border-right: 1px solid var(--border);
            padding: 2rem 1.25rem;
            z-index: 100;
            overflow-y: auto;
            overflow-x: hidden;
            scrollbar-width: thin;
            scrollbar-color: var(--border) transparent;
        }

        [data-theme="light"] .toc-sidebar {
            background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
        }

        .toc-sidebar::-webkit-scrollbar {
            width: 4px;
        }

        .toc-sidebar::-webkit-scrollbar-track {
            background: transparent;
        }

        .toc-sidebar::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 2px;
        }

        .toc-brand {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--primary);
            letter-spacing: -0.02em;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toc-brand::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background: var(--primary);
            border-radius: 2px;
        }

        .toc-subtitle {
            font-size: 0.65rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.08em;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .toc-section-label {
            font-size: 0.6rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin: 1.5rem 0 0.75rem 0;
            opacity: 0.7;
        }

        .toc-section-label:first-of-type {
            margin-top: 0;
        }

        .toc-sidebar ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .toc-sidebar li {
            margin: 0;
        }

        .toc-sidebar a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.72rem;
            padding: 0.5rem 0.75rem;
            margin: 0.125rem 0;
            border-radius: 6px;
            transition: all 0.15s ease;
            position: relative;
            line-height: 1.4;
        }

        .toc-sidebar a::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 2px;
            height: 0;
            background: var(--primary);
            border-radius: 1px;
            transition: height 0.2s ease;
        }

        .toc-sidebar a:hover {
            color: var(--text);
            background: rgba(249, 115, 22, 0.08);
            padding-left: 1rem;
        }

        .toc-sidebar a:hover::before {
            height: 60%;
        }

        .toc-sidebar a.active {
            color: var(--primary);
            background: rgba(249, 115, 22, 0.12);
            font-weight: 500;
            padding-left: 1rem;
        }

        .toc-sidebar a.active::before {
            height: 70%;
            background: var(--primary);
        }

        .toc-number {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.6rem;
            color: var(--text-muted);
            opacity: 0.5;
            min-width: 1.25rem;
        }

        .toc-sidebar a.active .toc-number {
            color: var(--primary);
            opacity: 0.8;
        }

        /* ========================================
           RESPONSIVE LAYOUT SYSTEM
           Breakpoints: 1440+ / 1200-1439 / 768-1199 / 480-767 / <480
           ======================================== */

        /* Base container - Desktop with sidebar visible */
        .report-content {
            margin-left: 260px; /* 220px sidebar + 40px gap */
            margin-right: 2rem; /* Match body padding for consistency */
            padding-left: 0;
            padding-right: 2rem;
            max-width: 1000px; /* Cap for readability */
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Large Desktop (1440px+) */
        @media (min-width: 1440px) {
            .report-content {
                margin-left: 260px;
                margin-right: 2rem;
                padding-right: 2rem;
                max-width: 1000px;
            }
        }

        /* Extra Large Desktop (1600px+) */
        @media (min-width: 1600px) {
            .report-content {
                margin-left: 280px;
                margin-right: 2rem;
                padding-right: 2rem;
                max-width: 1000px;
            }
        }

        /* Medium Desktop (1200-1439px) - Sidebar visible, tighter layout */
        @media (min-width: 1200px) and (max-width: 1439px) {
            .report-content {
                margin-left: 250px;
                margin-right: 2rem;
                padding-right: 2rem;
                max-width: 1000px;
            }
        }

        /* TOC Toggle Button - Hidden on desktop */
        .toc-toggle {
            display: none;
            position: fixed;
            left: 1rem;
            bottom: 1.5rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            width: 48px;
            height: 48px;
            cursor: pointer;
            z-index: 101;
            color: var(--text);
            font-size: 1.2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.25);
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(8px);
        }

        .toc-toggle:hover {
            border-color: var(--primary);
            color: var(--primary);
            transform: scale(1.08);
            box-shadow: 0 6px 24px rgba(249, 115, 22, 0.3);
        }

        .toc-toggle:active {
            transform: scale(0.95);
        }

        /* ========================================
           TABLET BREAKPOINT (768px - 1199px)
           Sidebar hidden, toggle visible
           ======================================== */
        @media (max-width: 1199px) {
            .toc-sidebar {
                transform: translateX(-100%);
                transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
                box-shadow: 4px 0 30px rgba(0,0,0,0.3);
            }

            .toc-sidebar.show {
                transform: translateX(0);
            }

            .report-content {
                margin-left: 0;
                padding-left: 2.5rem;
                padding-right: 2.5rem;
                max-width: 100%;
            }

            .toc-toggle {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            /* Overlay when sidebar is open */
            body.toc-open::before {
                content: '';
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: 99;
                opacity: 1;
                transition: opacity 0.3s ease;
            }
        }

        /* ========================================
           MOBILE BREAKPOINT (< 768px)
           Single column, compact spacing
           ======================================== */
        @media (max-width: 767px) {
            body {
                padding: 1rem;
            }

            .toc-sidebar {
                width: 280px;
                padding: 1.5rem 1rem;
            }

            .report-content {
                padding-left: 1rem;
                padding-right: 1rem;
            }

            header {
                padding: 1.5rem 1rem;
                margin-bottom: 1.5rem;
                border-radius: 12px;
            }

            h1 {
                font-size: 1.5rem;
                line-height: 1.3;
            }

            h2 {
                font-size: 1.5rem !important;
                font-weight: 700 !important;
            }

            h3 {
                font-size: 1.1rem !important;
            }

            .subtitle {
                font-size: 0.95rem;
            }

            .meta {
                font-size: 0.75rem;
            }

            /* Mobile theme toggle - floating icon */
            .theme-toggle {
                position: fixed;
                top: 1rem;
                right: 1rem;
                padding: 0.6rem;
                width: 44px;
                height: 44px;
                border-radius: 50%;
                justify-content: center;
                z-index: 102;
                box-shadow: 0 2px 12px rgba(0,0,0,0.2);
                backdrop-filter: blur(8px);
            }

            .theme-toggle #theme-label {
                display: none;
            }

            .theme-toggle #theme-icon {
                font-size: 1.1rem;
            }

            header {
                position: static;
            }

            /* Stat grid - 2 columns on mobile */
            .stat-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
            }

            .stat-card {
                padding: 1rem 0.75rem;
                border-radius: 10px;
            }

            .stat-value {
                font-size: 1.4rem;
            }

            .stat-label {
                font-size: 0.72rem;
            }

            /* Sections - reduced padding */
            section {
                margin: 1.5rem 0;
                padding: 1.25rem !important;
                border-radius: 12px !important;
            }

            /* Grid layouts - single column */
            .two-col, .three-col {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            /* Tables - responsive */
            .table-wrapper {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                margin: 0 -1rem;
                padding: 0 1rem;
            }

            table {
                font-size: 0.78rem;
                min-width: 500px;
            }

            th, td {
                padding: 0.6rem 0.75rem;
                white-space: nowrap;
            }

            th:first-child, td:first-child {
                position: sticky;
                left: 0;
                background: var(--bg-card);
                z-index: 1;
            }

            /* Charts - shorter on mobile */
            .chart-wrapper {
                height: 250px;
            }

            .chart-wrapper.tall {
                height: 350px;
            }

            .chart-wrapper.extra-tall {
                height: 400px;
            }

            /* Comparison section */
            .comparison-section {
                padding: 1.5rem;
                margin: 2rem 0;
            }

            .comparison-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
            }

            .comparison-stat {
                padding: 1rem;
            }

            .comparison-stat-value {
                font-size: 1.75rem;
            }

            .method-cards {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .method-vs {
                display: none;
            }

            /* Takeaway cards */
            .takeaway-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .takeaway-card {
                padding: 1.25rem;
            }

            /* Insight boxes */
            .insight-box {
                padding: 1rem;
                margin: 0.75rem 0;
            }

            /* Key insight card */
            .key-insight-card {
                padding: 1.25rem;
            }

            /* Methodology section */
            .methodology {
                padding: 1.5rem;
            }

            /* Download links - stack on mobile */
            .download-links {
                flex-direction: column;
                gap: 0.5rem;
            }

            .download-btn {
                justify-content: center;
            }

            /* Footer */
            footer {
                padding: 1.5rem 1rem;
                font-size: 0.75rem;
            }

            /* Toggle button position on mobile */
            .toc-toggle {
                left: 1rem;
                bottom: 1rem;
                width: 44px;
                height: 44px;
                font-size: 1.1rem;
            }
        }

        /* ========================================
           SMALL MOBILE BREAKPOINT (< 480px)
           Minimal spacing, compact everything
           ======================================== */
        @media (max-width: 479px) {
            body {
                padding: 0.75rem;
            }

            .report-content {
                padding-left: 0.75rem;
                padding-right: 0.75rem;
            }

            header {
                padding: 1.25rem 1rem;
                margin-bottom: 1rem;
            }

            h1 {
                font-size: 1.25rem;
            }

            h2 {
                font-size: 1.35rem !important;
                font-weight: 700 !important;
            }

            .subtitle {
                font-size: 0.85rem;
            }

            /* Stats - 2 columns but smaller */
            .stat-grid {
                grid-template-columns: 1fr 1fr;
                gap: 0.5rem;
            }

            .stat-card {
                padding: 0.75rem 0.5rem;
            }

            .stat-value {
                font-size: 1.2rem;
            }

            .stat-label {
                font-size: 0.65rem;
            }

            /* Sections - minimal padding */
            section {
                padding: 1rem !important;
                margin: 1rem 0;
            }

            /* Comparison stats - single column on very small screens */
            .comparison-stats {
                grid-template-columns: 1fr 1fr;
            }

            .comparison-stat-value {
                font-size: 1.5rem;
            }

            .comparison-stat-label {
                font-size: 0.75rem;
            }

            /* Tables - even more compact */
            table {
                font-size: 0.7rem;
            }

            th, td {
                padding: 0.5rem;
            }

            /* Charts - shortest */
            .chart-wrapper {
                height: 220px;
            }

            .chart-wrapper.tall {
                height: 300px;
            }

            /* Takeaway number smaller */
            .takeaway-number {
                width: 24px;
                height: 24px;
                font-size: 0.8rem;
            }

            /* Badges smaller */
            .badge {
                padding: 0.15rem 0.4rem;
                font-size: 0.65rem;
            }

            /* Footer more compact */
            footer {
                padding: 1rem 0.75rem;
                font-size: 0.7rem;
            }

            .logo {
                font-size: 1.25rem;
            }
        }

        /* ========================================
           RESPONSIVE TABLE WRAPPER
           Horizontal scroll for data tables
           ======================================== */
        .table-responsive {
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            scrollbar-color: var(--border) transparent;
        }

        .table-responsive::-webkit-scrollbar {
            height: 6px;
        }

        .table-responsive::-webkit-scrollbar-track {
            background: transparent;
        }

        .table-responsive::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 3px;
        }

        /* Fade hint for scrollable tables */
        .table-responsive::after {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 40px;
            background: linear-gradient(to left, var(--bg-card), transparent);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        @media (max-width: 767px) {
            .table-responsive {
                position: relative;
            }

            .table-responsive::after {
                opacity: 0.8;
            }
        }

        .takeaway-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .takeaway-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid var(--primary);
        }

        .takeaway-card h4 {
            color: var(--primary);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .takeaway-card p { color: var(--text-muted); font-size: 0.9rem; }

        .takeaway-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            font-weight: 700;
            font-size: 0.9rem;
        }

        .download-links {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }

        .download-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            text-decoration: none;
            font-size: 0.85rem;
        }

        .download-btn:hover { border-color: var(--primary); color: var(--primary); }

        .methodology {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .methodology h3 { color: var(--primary); }
        .methodology ul { list-style: none; margin: 1rem 0; }
        .methodology li { padding: 0.5rem 0; padding-left: 1.5rem; position: relative; }
        .methodology li::before {
            content: ">";
            position: absolute;
            left: 0;
            color: var(--primary);
            font-family: 'JetBrains Mono', monospace;
        }

        /* Detection Comparison Section */
        .comparison-section {
            background: linear-gradient(135deg, rgba(90, 153, 151, 0.1) 0%, rgba(249, 115, 22, 0.05) 100%);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2.5rem;
            margin: 3rem 0;
        }

        .comparison-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .comparison-header h2 {
            border: none;
            margin: 0;
            padding: 0;
        }

        .comparison-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .comparison-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .comparison-stat {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }

        .comparison-stat::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary);
        }

        .comparison-stat.success::before { background: var(--success); }
        .comparison-stat.secondary::before { background: var(--secondary); }
        .comparison-stat.purple::before { background: var(--purple); }

        .comparison-stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            line-height: 1;
        }

        .comparison-stat-label {
            color: var(--text-muted);
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        .comparison-stat-sublabel {
            font-size: 0.75rem;
            color: var(--text-muted);
            opacity: 0.7;
            margin-top: 0.25rem;
        }

        .method-cards {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 1.5rem;
            margin: 2rem 0;
            align-items: stretch;
        }

        @media (max-width: 900px) {
            .method-cards { grid-template-columns: 1fr; }
            .method-vs { display: none; }
        }

        .method-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .method-card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .method-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .method-icon.regex { background: rgba(249, 115, 22, 0.2); }
        .method-icon.llm { background: rgba(168, 85, 247, 0.2); }

        .method-card-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .method-card-subtitle {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .method-card-value {
            font-size: 2rem;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            color: var(--primary);
        }

        .method-card-rate {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .method-vs {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .method-vs-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--bg-main);
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .tool-comparison-table {
            width: 100%;
            margin: 1.5rem 0;
        }

        .tool-comparison-table th {
            background: transparent;
            border-bottom: 2px solid var(--border);
            padding: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            color: var(--text-muted);
        }

        .tool-comparison-table td {
            padding: 0.875rem 1rem;
        }

        .tool-comparison-table tr:hover {
            background: rgba(249, 115, 22, 0.05);
        }

        .tool-name {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tool-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .delta-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 500;
            font-family: 'JetBrains Mono', monospace;
        }

        .delta-badge.positive {
            background: rgba(34, 197, 94, 0.15);
            color: var(--success);
        }

        .delta-badge.negative {
            background: rgba(239, 68, 68, 0.15);
            color: var(--error);
        }

        .agreement-bar {
            position: relative;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .agreement-bar-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .key-insight-card {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(90, 153, 151, 0.1) 100%);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .key-insight-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            color: var(--success);
            font-weight: 600;
        }

        .key-insight-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .key-insight-list li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            color: var(--text);
        }

        .key-insight-list li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
        }

        .key-insight-list strong {
            color: var(--primary);
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            font-size: 0.85rem;
            border-top: 1px solid var(--border);
            margin-top: 3rem;
        }

        .logo { font-size: 1.5rem; font-weight: 700; color: var(--primary); margin-bottom: 0.5rem; }
        .mono { font-family: 'JetBrains Mono', monospace; }

        /* Reading Progress Bar */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            z-index: 1000;
            transition: width 0.1s ease-out;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            right: 2rem;
            bottom: 2rem;
            width: 48px;
            height: 48px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 50%;
            cursor: pointer;
            z-index: 100;
            color: var(--text);
            font-size: 1.25rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .back-to-top:hover {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(249, 115, 22, 0.3);
        }

        @media (max-width: 768px) {
            .back-to-top {
                right: 1rem;
                bottom: 5rem; /* Above mobile TOC toggle */
                width: 44px;
                height: 44px;
            }
        }

        @media print {
            body { background: white; color: #333; }
            .stat-card, .chart-container, .methodology, .takeaway-card { background: #f5f5f5; border-color: #ddd; }
            .theme-toggle { display: none; }
        }
    </style>
</head>
<body>
    <!-- Reading Progress Bar -->
    <div class="reading-progress" id="reading-progress"></div>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="back-to-top" aria-label="Back to top">‚Üë</button>

    <!-- Table of Contents - Always Visible Sidebar -->
    <nav class="toc-sidebar" id="toc">
        <div class="toc-brand">tformance</div>
        <div class="toc-subtitle">Research Report 2025</div>

        <button class="theme-toggle" onclick="toggleTheme()">
            <span id="theme-icon">‚òÄÔ∏è</span>
            <span id="theme-label">Light</span>
        </button>

        <div class="toc-section-label">Overview</div>
        <ul>
            <li><a href="#about"><span class="toc-number">01</span>About This Research</a></li>
            <li><a href="#stats"><span class="toc-number">02</span>Statistical Confidence</a></li>
            <li><a href="#trend-2025"><span class="toc-number">03</span>2025 Adoption Trend</a></li>
            <li><a href="#takeaways"><span class="toc-number">04</span>Key Takeaways</a></li>
        </ul>

        <!-- Quick CTA after Overview -->
        <div style="margin: 1rem 0; padding: 0.75rem; background: rgba(249, 115, 22, 0.08); border-radius: 6px; border-left: 3px solid var(--primary);">
            <a href="https://tformance.com" style="display: flex; align-items: center; gap: 0.5rem; color: var(--text); text-decoration: none; font-size: 0.68rem; line-height: 1.4;">
                <span style="font-size: 1rem;">üìä</span>
                <span><strong style="color: var(--primary);">For Your Team</strong><br><span style="color: var(--text-muted);">Get automated insights</span></span>
            </a>
        </div>

        <div class="toc-section-label">Findings</div>
        <ul>
            <li><a href="#summary"><span class="toc-number">05</span>Executive Summary</a></li>
            <li><a href="#tools"><span class="toc-number">06</span>AI Tool Evolution</a></li>
            <li><a href="#by-team"><span class="toc-number">07</span>Adoption by Team</a></li>
            <li><a href="#impact"><span class="toc-number">08</span>AI Impact on Metrics</a></li>
            <li><a href="#monthly"><span class="toc-number">09</span>Monthly Trends</a></li>
        </ul>

        <div class="toc-section-label">Data</div>
        <ul>
            <li><a href="#data"><span class="toc-number">10</span>Complete Team Data</a></li>
            <li><a href="#detection"><span class="toc-number">11</span>Detection Methods</a></li>
            <li><a href="#correlations"><span class="toc-number">12</span>Correlations</a></li>
        </ul>

        <div class="toc-section-label">Context</div>
        <ul>
            <li><a href="#methodology"><span class="toc-number">13</span>Methodology</a></li>
            <li><a href="#industry"><span class="toc-number">14</span>Industry Context</a></li>
            <li><a href="#action"><span class="toc-number">15</span>Action Items</a></li>
        </ul>

        <!-- Sidebar CTA -->
        <div style="margin-top: 2rem; padding: 1rem; background: linear-gradient(135deg, rgba(249, 115, 22, 0.15), rgba(90, 153, 151, 0.1)); border-radius: 8px; border: 1px solid rgba(249, 115, 22, 0.3);">
            <div style="font-size: 0.7rem; font-weight: 600; color: var(--primary); margin-bottom: 0.5rem;">For Your Team</div>
            <p style="font-size: 0.65rem; color: var(--text-muted); margin-bottom: 0.75rem; line-height: 1.5;">Get these insights automatically from your GitHub, Jira & Slack.</p>
            <a href="https://tformance.com" style="display: block; text-align: center; background: var(--primary); color: white; padding: 0.5rem; border-radius: 6px; text-decoration: none; font-size: 0.7rem; font-weight: 600;">Try tformance ‚Üí</a>
        </div>
    </nav>
    <button class="toc-toggle" id="toc-toggle" onclick="toggleToc()" title="Table of Contents">‚ò∞</button>

    <div class="report-content">
        <header>
            <div class="logo">tformance</div>
            <h1>AI Impact on Software Engineering</h1>
            <p class="subtitle">Analysis of 117,739 PRs from 51 Open Source Teams</p>
            <p class="meta">Research Period: January 1 - December 25, 2025 | Generated: December 26, 2025</p>
        </header>

        <!-- ABOUT THIS RESEARCH -->
        <section id="about" class="about-research" style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(90, 153, 151, 0.1)); border: 1px solid var(--border); border-radius: 16px; padding: 2rem; margin-bottom: 2rem;">
            <h2>About This Research</h2>
            <p style="font-size: 1rem; margin-bottom: 1.5rem;">
                This is a <strong>meta-analysis of 117,739 pull requests</strong> from 51 open source teams throughout 2025, attempting to understand real-world AI coding tool adoption patterns and their impact on engineering metrics.
            </p>

            <div class="two-col" style="gap: 2rem;">
                <div>
                    <h3 style="margin-bottom: 0.75rem;">How It Works</h3>
                    <ul style="padding-left: 1.25rem; color: var(--text-muted);">
                        <li style="margin-bottom: 0.5rem;">Fetch PR metadata (title, description, comments, commits) via GitHub GraphQL API</li>
                        <li style="margin-bottom: 0.5rem;">Analyze each PR with LLM (ChatGPT OSS 20B model) to detect AI tool mentions</li>
                        <li style="margin-bottom: 0.5rem;">Pattern matching (25+ regex patterns) provides secondary detection</li>
                        <li style="margin-bottom: 0.5rem;">Correlate AI usage with delivery metrics (cycle time, review time, PR size)</li>
                    </ul>
                </div>
                <div>
                    <h3 style="margin-bottom: 0.75rem;">What We Don't Analyze</h3>
                    <ul style="padding-left: 1.25rem; color: var(--text-muted);">
                        <li style="margin-bottom: 0.5rem;">‚ùå Actual file contents or code quality</li>
                        <li style="margin-bottom: 0.5rem;">‚ùå Private/enterprise repositories</li>
                        <li style="margin-bottom: 0.5rem;">‚ùå AI usage without disclosure (hidden adoption)</li>
                        <li style="margin-bottom: 0.5rem;">‚ùå Copilot suggestions accepted without mention</li>
                    </ul>
                </div>
            </div>

            <div class="insight-box" style="background: rgba(234, 179, 8, 0.15); border-color: var(--warning); margin-top: 1.5rem;">
                <strong>‚ö†Ô∏è Important Disclaimer:</strong> This is an independent research project, not a peer-reviewed study. While we strive for accuracy, our detection methods have limitations ‚Äî we can only identify AI usage that developers explicitly disclose. The findings represent <em>detected</em> AI adoption, not total AI adoption. Use these insights as directional guidance, not definitive conclusions.
            </div>
        </section>

        <!-- STATISTICAL CONFIDENCE -->
        <section id="stats" class="statistical-confidence" style="background: var(--bg-card); border: 1px solid var(--border); border-radius: 16px; padding: 2rem; margin-bottom: 2rem;">
            <h2>üìä Statistical Confidence</h2>
            <p style="color: var(--text-muted); margin-bottom: 1.5rem;">
                How confident can we be in these findings? Here's a transparency breakdown of our statistical validity.
            </p>

            <div class="stat-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                <div class="stat-card" style="text-align: center;">
                    <div class="stat-value" style="color: var(--success);">89,239</div>
                    <div class="stat-label">PRs Analyzed</div>
                    <div style="font-size: 0.75rem; color: var(--text-muted);">Large sample size</div>
                </div>
                <div class="stat-card" style="text-align: center;">
                    <div class="stat-value" style="color: var(--success);">¬±0.19%</div>
                    <div class="stat-label">95% Confidence Interval</div>
                    <div style="font-size: 0.75rem; color: var(--text-muted);">For overall 12.7% adoption</div>
                </div>
                <div class="stat-card" style="text-align: center;">
                    <div class="stat-value" style="color: var(--warning);">21.9%</div>
                    <div class="stat-label">Standard Deviation</div>
                    <div style="font-size: 0.75rem; color: var(--text-muted);">Between teams (high variance)</div>
                </div>
                <div class="stat-card" style="text-align: center;">
                    <div class="stat-value" style="color: var(--success);">p &lt; 0.0001</div>
                    <div class="stat-label">Team Structure Test</div>
                    <div style="font-size: 0.75rem; color: var(--text-muted);">Chi-square significance</div>
                </div>
            </div>

            <div class="two-col" style="gap: 2rem; margin-top: 1.5rem;">
                <div class="insight-box" style="background: rgba(34, 197, 94, 0.1); border-color: var(--success);">
                    <strong>‚úÖ What We Can Confidently Say:</strong>
                    <ul style="margin-top: 0.5rem; padding-left: 1.25rem; color: var(--text-muted);">
                        <li>Overall detected AI adoption is <strong>12.7% ¬± 0.19%</strong> (95% CI)</li>
                        <li>Focused teams have statistically significant higher adoption (p &lt; 0.0001)</li>
                        <li>There's massive variance between teams (0% to 86%)</li>
                        <li>Median adoption (4.0%) is much lower than mean (14%) ‚Äî a few high-adoption teams skew the average</li>
                    </ul>
                </div>
                <div class="insight-box" style="background: rgba(234, 179, 8, 0.15); border-color: var(--warning);">
                    <strong>‚ö†Ô∏è Limitations to Consider:</strong>
                    <ul style="margin-top: 0.5rem; padding-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>Selection bias:</strong> These are popular OSS projects, not a random sample</li>
                        <li><strong>Detection bias:</strong> We only capture disclosed AI usage</li>
                        <li><strong>Team confounding:</strong> Language/framework correlations overlap with team identity</li>
                        <li><strong>Survivorship:</strong> Only analyzing active, successful projects</li>
                    </ul>
                </div>
            </div>

            <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(90, 153, 151, 0.1); border-radius: 8px;">
                <strong style="color: var(--secondary);">üìà Distribution Insight:</strong>
                <span style="color: var(--text-muted);">
                    Team AI adoption ranges from 0% (Huly) to 85.6% (Plane). The interquartile range is <strong>0.9% ‚Äì 13.5%</strong>,
                    meaning half of teams fall within this wide range. Aggregate stats (like "12.7% overall") hide enormous
                    project-to-project differences ‚Äî your team could reasonably be anywhere from 0% to 86%.
                </span>
            </div>
        </section>

        <!-- OVERALL AI ADOPTION TREND 2025 -->
        <section id="trend-2025">
            <h2>AI Adoption Trend ‚Äî 2025</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                Overall AI-assisted PR rate across all 51 teams throughout 2025. Shows the growth trajectory from early adoption to mainstream usage.
            </p>
            <div class="chart-container" style="background: var(--bg-card);">
                <div class="chart-wrapper">
                    <canvas id="overallTrendChart"></canvas>
                </div>
            </div>
            <div class="stat-grid" style="margin-top: 1.5rem;">
                <div class="stat-card">
                    <div class="stat-value" style="color: var(--text-muted);">7.9%</div>
                    <div class="stat-label">January 2025</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value positive">19.1%</div>
                    <div class="stat-label">Peak (July 2025)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value neutral">15.5%</div>
                    <div class="stat-label">December 2025</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value positive">+96%</div>
                    <div class="stat-label">YoY Growth (Jan‚ÜíDec)</div>
                </div>
            </div>
            <div class="insight-box" style="margin-top: 1rem;">
                <strong>Trend Analysis:</strong> AI adoption grew steadily throughout 2025, peaking at 19.1% in July. With 51 teams in the dataset, we see more variance month-to-month. The dip after July may reflect seasonal patterns or detection limitations as AI usage becomes more normalized.
            </div>
        </section>

        <!-- KEY TAKEAWAYS - AT TOP -->
        <section id="takeaways">
            <h2>Key Takeaways for Engineering Leaders</h2>
            <div class="takeaway-grid">
                <div class="takeaway-card">
                    <h4><span class="takeaway-number">1</span> Mixed Tool Strategy Wins</h4>
                    <p>Teams using bot + IDE + LLM combinations show better outcomes than single-tool teams. Antiwork's 61.9% adoption with mixed tools yielded <strong>-8.5% cycle time</strong> and <strong>-50.2% review time</strong>.</p>
                </div>
                <div class="takeaway-card">
                    <h4><span class="takeaway-number">2</span> Review Velocity is Consistent</h4>
                    <p>33 out of 51 teams show faster review times with AI assistance. Average improvement: <strong>-52%</strong>. AI-generated code appears easier to review.</p>
                </div>
                <div class="takeaway-card">
                    <h4><span class="takeaway-number">3</span> Autonomous Agents Growing Fast</h4>
                    <p>Cubic went from <strong>0 ‚Üí 347 PRs/month</strong> (Jan‚ÜíNov). Autonomous agents (Devin, Cubic) now represent <strong>30.7%</strong> of all AI tool usage.</p>
                </div>
                <div class="takeaway-card">
                    <h4><span class="takeaway-number">4</span> 40-60% is Sweet Spot</h4>
                    <p>Very high adoption (>80%) correlates with larger cycle times. Best-performing teams (Antiwork, Trigger.dev) maintain balanced 40-60% AI usage.</p>
                </div>
                <div class="takeaway-card">
                    <h4><span class="takeaway-number">5</span> Tool Diversification Accelerating</h4>
                    <p>Jan: CodeRabbit had <strong>95%+ share</strong>. Dec: CodeRabbit <strong>36%</strong>, Cubic <strong>21%</strong>, Claude <strong>17%</strong>. The market is fragmenting rapidly.</p>
                </div>
            </div>

            <!-- Inline CTA after Key Takeaways -->
            <div style="display: flex; align-items: center; justify-content: space-between; background: var(--bg-card); border: 1px solid var(--border); border-radius: 10px; padding: 1rem 1.5rem; margin-top: 1.5rem; flex-wrap: wrap; gap: 1rem;">
                <div style="flex: 1; min-width: 200px;">
                    <span style="font-size: 0.9rem; color: var(--text);">Want these insights for <strong>your</strong> team?</span>
                    <span style="font-size: 0.85rem; color: var(--text-muted);"> ‚Äî Connect GitHub, Jira & Slack to track AI adoption automatically.</span>
                </div>
                <a href="https://tformance.com" style="background: var(--primary); color: white; padding: 0.6rem 1.25rem; border-radius: 8px; text-decoration: none; font-size: 0.85rem; font-weight: 600; white-space: nowrap;">Get Started Free ‚Üí</a>
            </div>
        </section>

        <section id="summary">
            <h2>Executive Summary</h2>
            <div class="stat-grid">
                <div class="stat-card">
                    <div class="stat-value">117,739</div>
                    <div class="stat-label">Total Pull Requests</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">51</div>
                    <div class="stat-label">Teams Analyzed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value neutral">12.7%</div>
                    <div class="stat-label">AI-Assisted PRs</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value positive">-52%</div>
                    <div class="stat-label">Avg Review Time Change</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value positive">-5%</div>
                    <div class="stat-label">Avg Cycle Time Change</div>
                </div>
            </div>

            <div class="insight-box">
                <strong>Key Finding:</strong> AI tools accelerate both code review (-52% avg) and overall cycle time (-5% avg). Larger dataset shows consistent delivery improvements across most teams.
            </div>

            <!-- Causal Disclaimer -->
            <div style="background: rgba(234, 179, 8, 0.1); border: 1px solid rgba(234, 179, 8, 0.3); border-radius: 8px; padding: 1rem 1.25rem; margin-top: 1rem; font-size: 0.9rem;">
                <strong style="color: var(--warning);">‚ö†Ô∏è Correlation ‚â† Causation:</strong>
                <span style="color: var(--text-muted);">
                    These findings show correlation, not causation. We cannot determine if AI itself improves delivery or if high-performing teams simply adopt AI more readily. Alternative explanations include: selection bias toward well-maintained projects, and the fact that disclosed AI usage may correlate with more structured development practices.
                </span>
            </div>
        </section>

        <!-- TOOL TRENDS OVER TIME - NEW SECTION -->
        <section id="tools">
            <h2>AI Tool Evolution (2025)</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">Monthly trend of AI tool usage across all teams. Shows dramatic market shift throughout the year.</p>

            <div class="chart-container">
                <div class="chart-wrapper tall">
                    <canvas id="toolTrendsChart"></canvas>
                </div>
            </div>

            <div class="insight-box">
                <strong>Market Shift:</strong> CodeRabbit dominated early 2025 (95%+ share in Jan-Feb). By Q4, the market fragmented: Cubic emerged as #2 (347 PRs in Nov), Claude and Cursor saw 10x growth. <strong>Human-directed AI tools</strong> (Claude, Cursor, Copilot) grew from 2% to 35% of monthly usage.
            </div>

            <!-- HIGH RISK DISCLOSURE: Missing Copilot/ChatGPT -->
            <div style="background: rgba(239, 68, 68, 0.08); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; padding: 1rem 1.25rem; margin: 1rem 0;">
                <strong style="color: var(--error);">‚ö†Ô∏è Important Context ‚Äî Hidden Tool Usage:</strong>
                <p style="color: var(--text-muted); margin-top: 0.5rem; margin-bottom: 0.5rem;">
                    Our tool rankings reflect <em>disclosed</em> usage patterns in OSS PRs, <strong>not</strong> total market share. Industry surveys show <strong>Copilot (68%)</strong> and <strong>ChatGPT (82%)</strong> dominate actual usage ‚Äî yet they're nearly absent from our data.
                </p>
                <p style="color: var(--text-muted); margin-bottom: 0;">
                    <strong>Why?</strong> Tools that leave visible artifacts (CodeRabbit bot comments, Devin author attribution) appear dominant because we can detect them. Silent tools (Copilot autocomplete, ChatGPT for research/debugging) are likely <strong>underrepresented by 5-10x</strong>.
                </p>
            </div>

            <div class="two-col">
                <div class="chart-container">
                    <h3>Tool Category Over Time</h3>
                    <div class="chart-wrapper">
                        <canvas id="categoryTrendsChart"></canvas>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>Current Tool Market Share</h3>
                    <div class="chart-wrapper">
                        <canvas id="toolShareChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="by-team">
            <h2>AI Adoption by Team</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">All 51 teams with 500+ analyzed PRs in 2025, sorted by AI adoption rate.</p>

            <div class="chart-container">
                <div class="chart-wrapper extra-tall">
                    <canvas id="teamAdoptionChart"></canvas>
                </div>
            </div>

            <div class="insight-box">
                <strong>Adoption Range:</strong> AI adoption varies from 0% (Lago) to 87.3% (Plane). High-adoption teams tend to use review bots (CodeRabbit) extensively.
            </div>
        </section>

        <section id="impact">
            <h2>AI Impact on Metrics</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">Comparing AI-assisted PRs vs non-AI PRs within each team. Green = AI improved metric, Red = AI increased metric.</p>

            <div class="two-col">
                <div class="chart-container">
                    <h3>Review Time Impact (AI vs Non-AI)</h3>
                    <div class="chart-wrapper tall">
                        <canvas id="reviewImpactChart"></canvas>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>Cycle Time Impact (AI vs Non-AI)</h3>
                    <div class="chart-wrapper tall">
                        <canvas id="cycleImpactChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="monthly">
            <h2>Monthly Adoption Trends by Team</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">Select teams to compare their AI adoption journey throughout 2025.</p>

            <!-- Team Selector - 5 dropdown selects for comparing teams -->
            <div id="teamSelector" style="background: var(--bg-card); border: 1px solid var(--border); border-radius: 8px; padding: 1rem; margin-bottom: 1rem;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 0.75rem;">
                    <!-- 5 team dropdowns - populated by JavaScript -->
                    <div class="team-dropdown-wrapper">
                        <label style="display: block; font-size: 0.7rem; color: var(--text-muted); margin-bottom: 0.25rem;">Team 1</label>
                        <select id="teamSelect1" class="team-select" onchange="updateMonthlyChart()" style="width: 100%; padding: 0.5rem; background: var(--bg-main); border: 1px solid var(--border); border-radius: 6px; color: var(--text); font-size: 0.85rem; cursor: pointer;"></select>
                    </div>
                    <div class="team-dropdown-wrapper">
                        <label style="display: block; font-size: 0.7rem; color: var(--text-muted); margin-bottom: 0.25rem;">Team 2</label>
                        <select id="teamSelect2" class="team-select" onchange="updateMonthlyChart()" style="width: 100%; padding: 0.5rem; background: var(--bg-main); border: 1px solid var(--border); border-radius: 6px; color: var(--text); font-size: 0.85rem; cursor: pointer;"></select>
                    </div>
                    <div class="team-dropdown-wrapper">
                        <label style="display: block; font-size: 0.7rem; color: var(--text-muted); margin-bottom: 0.25rem;">Team 3</label>
                        <select id="teamSelect3" class="team-select" onchange="updateMonthlyChart()" style="width: 100%; padding: 0.5rem; background: var(--bg-main); border: 1px solid var(--border); border-radius: 6px; color: var(--text); font-size: 0.85rem; cursor: pointer;"></select>
                    </div>
                    <div class="team-dropdown-wrapper">
                        <label style="display: block; font-size: 0.7rem; color: var(--text-muted); margin-bottom: 0.25rem;">Team 4</label>
                        <select id="teamSelect4" class="team-select" onchange="updateMonthlyChart()" style="width: 100%; padding: 0.5rem; background: var(--bg-main); border: 1px solid var(--border); border-radius: 6px; color: var(--text); font-size: 0.85rem; cursor: pointer;"></select>
                    </div>
                    <div class="team-dropdown-wrapper">
                        <label style="display: block; font-size: 0.7rem; color: var(--text-muted); margin-bottom: 0.25rem;">Team 5</label>
                        <select id="teamSelect5" class="team-select" onchange="updateMonthlyChart()" style="width: 100%; padding: 0.5rem; background: var(--bg-main); border: 1px solid var(--border); border-radius: 6px; color: var(--text); font-size: 0.85rem; cursor: pointer;"></select>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <div class="chart-wrapper tall">
                    <canvas id="monthlyTrendChart"></canvas>
                </div>
            </div>

            <div class="insight-box">
                <strong>Patterns:</strong> Cal.com shows most dramatic growth (0.2% Feb ‚Üí 80.6% Jun). Formbricks shows opposite trend (90% Jan ‚Üí 8% Dec). Teams experiment heavily then settle on sustainable adoption levels.
            </div>
        </section>

        <section id="data">
            <h2>Complete Team Data</h2>

            <div class="download-links">
                <a href="data/team_summary.csv" class="download-btn" download>üìä Team Summary (CSV)</a>
                <a href="data/monthly_trends.csv" class="download-btn" download>üìà Monthly Trends (CSV)</a>
                <a href="data/ai_tools_monthly.csv" class="download-btn" download>üîß AI Tools by Month (CSV)</a>
            </div>

            <!-- Alpine.js Sortable Table -->
            <div x-data="teamTable()" x-init="init()">
                <table>
                    <thead>
                        <tr>
                            <th @click="sort('team')" class="sortable-header">
                                Team
                                <span class="sort-indicator" x-show="sortBy === 'team'" x-text="sortDir === 'asc' ? '‚ñ≤' : '‚ñº'"></span>
                            </th>
                            <th @click="sort('total')" class="sortable-header">
                                PRs
                                <span class="sort-indicator" x-show="sortBy === 'total'" x-text="sortDir === 'asc' ? '‚ñ≤' : '‚ñº'"></span>
                            </th>
                            <th @click="sort('ai_pct')" class="sortable-header">
                                AI %
                                <span class="sort-indicator" x-show="sortBy === 'ai_pct'" x-text="sortDir === 'asc' ? '‚ñ≤' : '‚ñº'"></span>
                            </th>
                            <th @click="sort('cycle_delta')" class="sortable-header">
                                Cycle Œî
                                <span class="sort-indicator" x-show="sortBy === 'cycle_delta'" x-text="sortDir === 'asc' ? '‚ñ≤' : '‚ñº'"></span>
                            </th>
                            <th @click="sort('review_delta')" class="sortable-header">
                                Review Œî
                                <span class="sort-indicator" x-show="sortBy === 'review_delta'" x-text="sortDir === 'asc' ? '‚ñ≤' : '‚ñº'"></span>
                            </th>
                            <th @click="sort('size_delta')" class="sortable-header">
                                Size Œî
                                <span class="sort-indicator" x-show="sortBy === 'size_delta'" x-text="sortDir === 'asc' ? '‚ñ≤' : '‚ñº'"></span>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <template x-for="t in paginatedData" :key="t.team">
                            <tr>
                                <td><strong x-text="t.team"></strong></td>
                                <td class="mono" x-text="t.total.toLocaleString()"></td>
                                <td class="mono" x-text="t.ai_pct.toFixed(1) + '%'"></td>
                                <td>
                                    <span x-show="t.cycle_delta !== null"
                                          :class="'badge ' + (t.cycle_delta < 0 ? 'badge-success' : 'badge-error')"
                                          x-text="t.cycle_delta !== null ? (t.cycle_delta > 0 ? '+' : '') + t.cycle_delta.toFixed(0) + '%' : ''"></span>
                                    <span x-show="t.cycle_delta === null">-</span>
                                </td>
                                <td>
                                    <span x-show="t.review_delta !== null"
                                          :class="'badge ' + (t.review_delta < 0 ? 'badge-success' : 'badge-error')"
                                          x-text="t.review_delta !== null ? (t.review_delta > 0 ? '+' : '') + t.review_delta.toFixed(0) + '%' : ''"></span>
                                    <span x-show="t.review_delta === null">-</span>
                                </td>
                                <td>
                                    <span x-show="t.size_delta !== null"
                                          :class="'badge ' + (t.size_delta < 0 ? 'badge-success' : 'badge-warning')"
                                          x-text="t.size_delta !== null ? (t.size_delta > 0 ? '+' : '') + t.size_delta.toFixed(0) + '%' : ''"></span>
                                    <span x-show="t.size_delta === null">-</span>
                                </td>
                            </tr>
                        </template>
                    </tbody>
                </table>

                <!-- Table Pagination -->
                <div class="table-pagination">
                    <button class="pagination-btn" @click="prevPage()" :disabled="currentPage === 1">‚Üê Prev</button>
                    <span class="pagination-info" x-text="'Page ' + currentPage + ' of ' + totalPages"></span>
                    <button class="pagination-btn" @click="nextPage()" :disabled="currentPage === totalPages">Next ‚Üí</button>
                </div>
            </div>
        </section>

        <!-- DETECTION METHOD COMPARISON - STANDALONE SECTION -->
        <section id="detection" class="comparison-section">
            <div class="comparison-header">
                <div class="comparison-icon">üî¨</div>
                <div>
                    <h2>Detection Method Comparison</h2>
                    <p style="color: var(--text-muted); margin-top: 0.25rem;">Regex patterns vs LLM semantic analysis ‚Äî validating our AI detection accuracy</p>
                </div>
            </div>

            <!-- Agreement Stats -->
            <div class="comparison-stats">
                <div class="comparison-stat success">
                    <div class="comparison-stat-value" style="color: var(--success);">96.1%</div>
                    <div class="comparison-stat-label">Agreement Rate</div>
                    <div class="agreement-bar">
                        <div class="agreement-bar-fill" style="width: 96.1%; background: var(--success);"></div>
                    </div>
                </div>
                <div class="comparison-stat secondary">
                    <div class="comparison-stat-value" style="color: var(--secondary);">51,800</div>
                    <div class="comparison-stat-label">PRs with Matching Results</div>
                    <div class="comparison-stat-sublabel">Both methods agree</div>
                </div>
                <div class="comparison-stat purple">
                    <div class="comparison-stat-value" style="color: var(--purple);">+1,718</div>
                    <div class="comparison-stat-label">Additional AI PRs Found</div>
                    <div class="comparison-stat-sublabel">LLM catches what regex misses</div>
                </div>
                <div class="comparison-stat">
                    <div class="comparison-stat-value">53,876</div>
                    <div class="comparison-stat-label">PRs Analyzed</div>
                    <div class="comparison-stat-sublabel">89.0% of dataset</div>
                </div>
            </div>

            <!-- Method Cards -->
            <div class="method-cards">
                <div class="method-card">
                    <div class="method-card-header">
                        <div class="method-icon regex">‚ö°</div>
                        <div>
                            <div class="method-card-title">Regex Pattern Detection</div>
                            <div class="method-card-subtitle">25+ patterns ‚Ä¢ Instant ‚Ä¢ Rule-based</div>
                        </div>
                    </div>
                    <div class="method-card-value">10,626</div>
                    <div class="method-card-rate">AI-assisted PRs detected (17.2%)</div>
                    <ul style="margin-top: 1rem; padding-left: 1.25rem; color: var(--text-muted); font-size: 0.85rem;">
                        <li>Exact signature matching</li>
                        <li>Known tool footprints (CodeRabbit, Devin, etc.)</li>
                        <li>Fast, deterministic results</li>
                    </ul>
                </div>

                <div class="method-vs">
                    <div class="method-vs-circle">VS</div>
                </div>

                <div class="method-card">
                    <div class="method-card-header">
                        <div class="method-icon llm">üß†</div>
                        <div>
                            <div class="method-card-title">LLM Semantic Analysis</div>
                            <div class="method-card-subtitle">ChatGPT OSS 20B + Llama 70B fallback ‚Ä¢ via Groq</div>
                        </div>
                    </div>
                    <div class="method-card-value" style="color: var(--purple);">11,540</div>
                    <div class="method-card-rate">AI-assisted PRs detected (21.4%)</div>
                    <ul style="margin-top: 1rem; padding-left: 1.25rem; color: var(--text-muted); font-size: 0.85rem;">
                        <li>Context-aware understanding</li>
                        <li>Catches implicit AI mentions</li>
                        <li>Tool disambiguation (GPT-4 via Cursor ‚Üí Cursor)</li>
                    </ul>
                </div>
            </div>

            <!-- Tool Comparison Table -->
            <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Tool Detection by Method</h3>
            <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 1rem;">
                Comparing how each method detects specific AI tools. Green delta = LLM finds more; Red delta = Regex finds more (often over-matching).
            </p>

            <table class="tool-comparison-table">
                <thead>
                    <tr>
                        <th>AI Tool</th>
                        <th style="text-align: right;">Regex</th>
                        <th style="text-align: right;">LLM</th>
                        <th style="text-align: right;">Delta</th>
                        <th>Insight</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <span class="tool-name">
                                <span class="tool-dot" style="background: #F97316;"></span>
                                CodeRabbit
                            </span>
                        </td>
                        <td class="mono" style="text-align: right;">5,431</td>
                        <td class="mono" style="text-align: right;">5,891</td>
                        <td style="text-align: right;"><span class="delta-badge positive">+460</span></td>
                        <td style="color: var(--text-muted); font-size: 0.85rem;">LLM catches bot mentions in comments</td>
                    </tr>
                    <tr>
                        <td>
                            <span class="tool-name">
                                <span class="tool-dot" style="background: #eab308;"></span>
                                Devin
                            </span>
                        </td>
                        <td class="mono" style="text-align: right;">1,706</td>
                        <td class="mono" style="text-align: right;">1,743</td>
                        <td style="text-align: right;"><span class="delta-badge positive">+37</span></td>
                        <td style="color: var(--text-muted); font-size: 0.85rem;">Strong pattern coverage</td>
                    </tr>
                    <tr>
                        <td>
                            <span class="tool-name">
                                <span class="tool-dot" style="background: #d97706;"></span>
                                Cubic
                            </span>
                        </td>
                        <td class="mono" style="text-align: right;">1,490</td>
                        <td class="mono" style="text-align: right;">1,590</td>
                        <td style="text-align: right;"><span class="delta-badge positive">+100</span></td>
                        <td style="color: var(--text-muted); font-size: 0.85rem;">LLM understands "cubic" in context</td>
                    </tr>
                    <tr>
                        <td>
                            <span class="tool-name">
                                <span class="tool-dot" style="background: #a855f7;"></span>
                                Claude
                            </span>
                        </td>
                        <td class="mono" style="text-align: right;">412</td>
                        <td class="mono" style="text-align: right;">724</td>
                        <td style="text-align: right;"><span class="delta-badge positive">+312</span></td>
                        <td style="color: var(--text-muted); font-size: 0.85rem;"><strong>+76%</strong> ‚Äî catches indirect refs</td>
                    </tr>
                    <tr>
                        <td>
                            <span class="tool-name">
                                <span class="tool-dot" style="background: #5a9997;"></span>
                                Cursor
                            </span>
                        </td>
                        <td class="mono" style="text-align: right;">499</td>
                        <td class="mono" style="text-align: right;">702</td>
                        <td style="text-align: right;"><span class="delta-badge positive">+203</span></td>
                        <td style="color: var(--text-muted); font-size: 0.85rem;"><strong>+41%</strong> ‚Äî IDE mentions</td>
                    </tr>
                    <tr>
                        <td>
                            <span class="tool-name">
                                <span class="tool-dot" style="background: #60a5fa;"></span>
                                Greptile
                            </span>
                        </td>
                        <td class="mono" style="text-align: right;">7</td>
                        <td class="mono" style="text-align: right;">459</td>
                        <td style="text-align: right;"><span class="delta-badge positive">+452</span></td>
                        <td style="color: var(--text-muted); font-size: 0.85rem;"><strong>65x more!</strong> Regex pattern gap</td>
                    </tr>
                    <tr>
                        <td>
                            <span class="tool-name">
                                <span class="tool-dot" style="background: #22c55e;"></span>
                                Copilot
                            </span>
                        </td>
                        <td class="mono" style="text-align: right;">204</td>
                        <td class="mono" style="text-align: right;">403</td>
                        <td style="text-align: right;"><span class="delta-badge positive">+199</span></td>
                        <td style="color: var(--text-muted); font-size: 0.85rem;"><strong>2x</strong> ‚Äî implicit mentions</td>
                    </tr>
                    <tr>
                        <td>
                            <span class="tool-name">
                                <span class="tool-dot" style="background: #8a8880;"></span>
                                ChatGPT
                            </span>
                        </td>
                        <td class="mono" style="text-align: right;">471</td>
                        <td class="mono" style="text-align: right;">238</td>
                        <td style="text-align: right;"><span class="delta-badge negative">-233</span></td>
                        <td style="color: var(--text-muted); font-size: 0.85rem;">LLM reassigns to specific tools</td>
                    </tr>
                </tbody>
            </table>

            <!-- Key Insights -->
            <div class="key-insight-card">
                <div class="key-insight-header">
                    <span>üí°</span>
                    <span>Key Insights from Method Comparison</span>
                </div>
                <ul class="key-insight-list">
                    <li><strong>96.1% agreement</strong> validates both detection methods produce consistent results</li>
                    <li>LLM catches <strong>1,718 additional AI-assisted PRs</strong> (3.2%) that regex patterns miss entirely</li>
                    <li><strong>Greptile detection improved 65x</strong> ‚Äî major regex pattern gap identified and fixed via LLM feedback</li>
                    <li>LLM correctly reassigns generic "ChatGPT" to specific tools (e.g., "GPT-4 via Cursor" ‚Üí Cursor)</li>
                    <li>Human-directed AI tools (Claude, Cursor, Copilot) have the largest detection gaps ‚Äî developers don't always mention them explicitly</li>
                </ul>
            </div>

            <!-- Per-Team Detection Comparison -->
            <h3 style="margin-top: 2.5rem; margin-bottom: 1rem;">Detection Improvement by Team</h3>
            <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 1rem;">
                How much more AI usage does LLM detect compared to regex patterns? Positive = LLM finds more, Negative = Regex over-matches.
            </p>

            <div class="chart-container" style="background: var(--bg-card);">
                <div class="chart-wrapper tall">
                    <canvas id="teamDetectionChart"></canvas>
                </div>
            </div>

            <div class="two-col" style="margin-top: 1.5rem;">
                <div class="insight-box" style="background: rgba(34, 197, 94, 0.1); border-color: var(--success);">
                    <strong style="color: var(--success);">Biggest LLM Improvements:</strong>
                    <ul style="margin-top: 0.5rem; padding-left: 1.25rem; font-size: 0.9rem;">
                        <li><strong>Deno</strong> ‚Äî +408% more AI PRs detected</li>
                        <li><strong>Twenty CRM</strong> ‚Äî +360% improvement</li>
                        <li><strong>PostHog</strong> ‚Äî +200% (312 more PRs)</li>
                        <li><strong>Cal.com</strong> ‚Äî +476 additional AI PRs</li>
                    </ul>
                </div>
                <div class="insight-box" style="background: rgba(239, 68, 68, 0.1); border-color: var(--error);">
                    <strong style="color: var(--error);">Regex Over-Matching:</strong>
                    <ul style="margin-top: 0.5rem; padding-left: 1.25rem; font-size: 0.9rem;">
                        <li><strong>Vercel</strong> ‚Äî Regex found 135 more (likely false positives)</li>
                        <li><strong>LangChain</strong> ‚Äî Regex found 50 more</li>
                        <li>LLM more conservative with ambiguous mentions</li>
                    </ul>
                </div>
            </div>

            <p style="color: var(--text-muted); font-size: 0.85rem; margin-top: 1rem; font-style: italic;">
                Note: Teams with low AI usage show high percentage improvements but small absolute numbers.
                High-adoption teams like Plane (87%) show near-parity between methods.
            </p>

            <!-- LLM-to-Regex Feedback Loop -->
            <div class="key-insight-card" style="margin-top: 2rem;">
                <h3>üîÑ LLM-to-Regex Feedback Loop</h3>
                <p>LLM analysis revealed patterns that were then added to regex detection, creating a continuous improvement cycle:</p>
                <ul style="margin: 1rem 0;">
                    <li>LLM detected <code>@lingodotdev</code> mentions ‚Üí added to regex ‚Üí <strong>430 new Replexica detections</strong></li>
                    <li>CodeRabbit author patterns identified ‚Üí <strong>6,884 total detections</strong></li>
                    <li>Gap reduction: 1,717 ‚Üí 1,668 (<strong>-49 PRs, 2.9% improvement</strong>)</li>
                </ul>
                <p style="color: var(--text-muted); font-size: 0.9rem;">This validates an iterative approach: LLM finds edge cases ‚Üí patterns extracted ‚Üí regex updated ‚Üí backfill run.</p>
            </div>

            <!-- Mid-content CTA -->
            <div style="margin-top: 2rem; padding: 1.25rem 1.5rem; background: linear-gradient(90deg, rgba(249, 115, 22, 0.08), rgba(90, 153, 151, 0.08)); border-radius: 10px; display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
                <span style="font-size: 1.25rem;">üìä</span>
                <div style="flex: 1; min-width: 250px;">
                    <strong style="color: var(--text);">Measure your team's AI adoption</strong>
                    <span style="color: var(--text-muted);"> ‚Äî tformance runs this analysis automatically on your repos.</span>
                </div>
                <a href="https://tformance.com" style="color: var(--primary); font-weight: 600; text-decoration: none; white-space: nowrap;">Learn more ‚Üí</a>
            </div>
        </section>

        <!-- AI ADOPTION CORRELATIONS -->
        <section id="correlations" class="correlations">
            <h2>AI Adoption Correlations</h2>
            <p style="color: var(--text-muted); margin-bottom: 1.5rem;">
                Analyzing 53,876 LLM-processed PRs to understand where AI tools are used most.
            </p>

            <!-- By PR Type -->
            <h3>By PR Type</h3>
            <div class="chart-container" style="background: var(--bg-card); margin-bottom: 1rem;">
                <div class="chart-wrapper">
                    <canvas id="prTypeChart"></canvas>
                </div>
            </div>
            <div class="insight-box" style="background: rgba(168, 85, 247, 0.1); border-color: var(--purple);">
                <strong>Key Insight:</strong> Refactors show highest AI adoption (32.8%), suggesting developers leverage AI for code restructuring more than greenfield features. CI/CD work shows lowest adoption (9.9%) ‚Äî infrastructure-as-code less suited to current AI tools.
            </div>

            <!-- By Technology Category -->
            <h3 style="margin-top: 2rem;">By Technology Category</h3>
            <div class="chart-container" style="background: var(--bg-card); margin-bottom: 1rem;">
                <div class="chart-wrapper">
                    <canvas id="techCategoryChart"></canvas>
                </div>
            </div>
            <div class="insight-box" style="background: rgba(34, 197, 94, 0.1); border-color: var(--success);">
                <strong>Key Insight:</strong> Mobile development shows highest AI adoption (42.4%), though sample size is smaller (118 PRs). Test-related PRs at 33% suggest AI is heavily used for test generation. DevOps lowest at 15.6%.
            </div>

            <!-- By PR Size -->
            <h3 style="margin-top: 2rem;">By PR Size</h3>
            <div class="chart-container" style="background: var(--bg-card); margin-bottom: 1rem;">
                <div class="chart-wrapper">
                    <canvas id="prSizeChart"></canvas>
                </div>
            </div>
            <div class="insight-box" style="background: rgba(249, 115, 22, 0.1); border-color: var(--primary);">
                <strong>Key Insight:</strong> Larger PRs correlate with higher AI usage ‚Äî XL PRs (501+ lines) show 26.0% AI adoption vs 17.8% for XS PRs (0-10 lines). This is a <strong>46% relative increase</strong>. AI tools may enable developers to tackle larger changes confidently, or larger changes benefit more from AI assistance.
            </div>

            <!-- By Team Structure -->
            <h3 style="margin-top: 2rem;">By Team Structure</h3>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                Does team composition affect AI adoption? We measured "concentration" ‚Äî what % of PRs come from the top 5 contributors.
            </p>
            <div class="chart-container" style="background: var(--bg-card); margin-bottom: 1rem;">
                <div class="chart-wrapper">
                    <canvas id="teamStructureChart"></canvas>
                </div>
            </div>
            <div class="two-col" style="margin-top: 1rem;">
                <div class="insight-box" style="background: rgba(34, 197, 94, 0.1); border-color: var(--success);">
                    <strong>Focused Teams (70%+ concentration):</strong>
                    <ul>
                        <li>Dub ‚Äî 94.3% concentration, <strong>83.9% AI</strong></li>
                        <li>Trigger.dev ‚Äî 76.0%, <strong>45.7% AI</strong></li>
                        <li>Formbricks ‚Äî 70.3%, <strong>50.5% AI</strong></li>
                    </ul>
                    <p style="color: var(--text-muted); font-size: 0.85rem; margin-top: 0.5rem;">~66 contributors avg, 29.2% AI adoption</p>
                </div>
                <div class="insight-box" style="background: rgba(99, 102, 241, 0.1); border-color: var(--indigo);">
                    <strong>Distributed Teams (&lt;40% concentration):</strong>
                    <ul>
                        <li>PostHog ‚Äî 18.7% concentration, <strong>7.5% AI</strong></li>
                        <li>LangChain ‚Äî 30.5%, <strong>4.2% AI</strong></li>
                        <li>Supabase ‚Äî 31.5%, <strong>12.0% AI</strong></li>
                    </ul>
                    <p style="color: var(--text-muted); font-size: 0.85rem; margin-top: 0.5rem;">~452 contributors avg, 19.2% AI adoption</p>
                </div>
            </div>
            <div class="insight-box" style="background: rgba(249, 115, 22, 0.1); border-color: var(--primary); margin-top: 1rem;">
                <strong>Key Insight:</strong> Focused teams show <strong>52% higher AI adoption</strong> (29.2% vs 19.2%) than distributed open-source projects. Core teams can establish AI tool workflows, share knowledge, and standardize practices. Large contributor bases with occasional contributors have less consistent tooling.
            </div>

            <!-- Recommendation -->
            <div class="key-insight-card" style="margin-top: 2.5rem; border-left: 4px solid var(--success);">
                <h3>üí° Recommendation: Explicit AI Disclosure in PRs</h3>
                <p>Teams with high AI detection rates (like Antiwork at 61.7%) often have a culture of <strong>explicit AI disclosure</strong> in PR descriptions:</p>
                <div style="background: var(--bg-card); padding: 1rem; border-radius: 8px; margin: 1rem 0; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem;">
                    <code style="color: var(--text-muted);">## AI Usage</code><br>
                    <code>- Used Claude to scaffold the initial component structure</code><br>
                    <code>- Copilot assisted with test generation</code><br>
                    <code>- Cursor for refactoring the API layer</code>
                </div>
                <p><strong>Benefits for Engineering Leaders:</strong></p>
                <ul style="margin: 0.5rem 0;">
                    <li><strong>Accurate measurement</strong> ‚Äî Know the true AI adoption rate across your team</li>
                    <li><strong>Knowledge sharing</strong> ‚Äî Team members learn which tools work for which tasks</li>
                    <li><strong>Quality insights</strong> ‚Äî Correlate AI usage with review feedback and bug rates</li>
                    <li><strong>Onboarding</strong> ‚Äî New hires learn team AI practices from PR history</li>
                </ul>
                <p style="color: var(--text-muted); font-size: 0.9rem; margin-top: 1rem;">
                    Consider adding an "AI Usage" section to your PR template. Even "No AI used" is valuable data.
                </p>
            </div>
        </section>

        <!-- METHODOLOGY - SIMPLIFIED -->
        <section id="methodology" class="methodology">
            <h2>Methodology</h2>

            <div class="two-col" style="margin: 1.5rem 0;">
                <div>
                    <h3>Data Collection</h3>
                    <ul>
                        <li><strong>Source:</strong> GitHub GraphQL API with authenticated access</li>
                        <li><strong>Teams:</strong> 51 open source project teams</li>
                        <li><strong>Date Range:</strong> January 1 - December 25, 2025</li>
                        <li><strong>PR Fields:</strong> Title, body, comments, commits, reviews, files</li>
                    </ul>
                </div>
                <div>
                    <h3>Metrics Definitions</h3>
                    <ul>
                        <li><strong>Cycle Time:</strong> Hours from PR creation to merge</li>
                        <li><strong>Review Time:</strong> Hours from PR creation to first review</li>
                        <li><strong>PR Size:</strong> Total lines added + deleted</li>
                        <li><strong>Impact Delta:</strong> (AI metric - Non-AI metric) / Non-AI √ó 100</li>
                    </ul>
                </div>
            </div>

            <div class="two-col" style="margin: 1.5rem 0;">
                <div>
                    <h3>AI Detection Methods</h3>
                    <ul>
                        <li><strong>LLM Detection:</strong> ChatGPT OSS 20B (via Groq Batch API), with Llama 3.3 70B fallback for failures</li>
                        <li><strong>Pattern Detection:</strong> 25+ regex patterns for known AI signatures</li>
                        <li><strong>Tool Attribution:</strong> Extracted from PR descriptions, commits, comments</li>
                        <li><strong>Scope:</strong> Metadata only ‚Äî file contents not analyzed</li>
                    </ul>
                </div>
                <div>
                    <h3>Data Quality</h3>
                    <ul>
                        <li><strong>Total PRs:</strong> 117,739</li>
                        <li><strong>LLM Analyzed:</strong> 89,239 (75.8%)</li>
                        <li><strong>Empty Body PRs:</strong> 28,500 (24.2%) ‚Äî excluded from LLM</li>
                        <li><strong>Teams with 500+ PRs:</strong> 51</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- INDUSTRY CONTEXT - COMPARISON WITH OTHER REPORTS -->
        <section id="industry" class="industry-context" style="background: var(--bg-card); border: 1px solid var(--border); border-radius: 16px; padding: 2rem; margin-top: 2rem;">
            <h2>üìö Industry Context</h2>
            <p style="color: var(--text-muted); margin-bottom: 1.5rem;">
                How do our findings compare to major developer surveys? Understanding the gap helps contextualize our results.
            </p>

            <div class="stat-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); margin-bottom: 1.5rem;">
                <div class="stat-card" style="border-left: 4px solid var(--primary);">
                    <div class="stat-value" style="font-size: 1.75rem;">12.7%</div>
                    <div class="stat-label">Our Report (Detected)</div>
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-top: 0.25rem;">Explicit AI mentions in OSS PRs</div>
                </div>
                <div class="stat-card" style="border-left: 4px solid var(--secondary);">
                    <div class="stat-value" style="font-size: 1.75rem; color: var(--secondary);">84%</div>
                    <div class="stat-label">Stack Overflow 2025</div>
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-top: 0.25rem;">Using or planning to use AI</div>
                </div>
                <div class="stat-card" style="border-left: 4px solid var(--success);">
                    <div class="stat-value" style="font-size: 1.75rem; color: var(--success);">51%</div>
                    <div class="stat-label">SO 2025 Daily Users</div>
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-top: 0.25rem;">Professional devs using AI daily</div>
                </div>
                <div class="stat-card" style="border-left: 4px solid var(--purple);">
                    <div class="stat-value" style="font-size: 1.75rem; color: var(--purple);">85%</div>
                    <div class="stat-label">JetBrains 2025</div>
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-top: 0.25rem;">Regularly use AI for coding</div>
                </div>
            </div>

            <!-- HIGH RISK: Adoption Gap Comparison Table -->
            <div style="background: var(--bg-main); border: 1px solid var(--border); border-radius: 8px; padding: 1.25rem; margin-bottom: 1.5rem;">
                <h3 style="margin-bottom: 1rem; font-size: 1rem;">üìä Understanding the 4x Gap: Why Our Data Differs</h3>
                <table style="font-size: 0.85rem; margin-bottom: 1rem;">
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Value</th>
                            <th>What It Measures</th>
                            <th>Why Different</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong style="color: var(--primary);">Our Report</strong></td>
                            <td><strong>12.7%</strong></td>
                            <td>PRs with explicit AI disclosure</td>
                            <td>Floor ‚Äî only visible mentions</td>
                        </tr>
                        <tr>
                            <td><strong style="color: var(--secondary);">SO 2025 Daily</strong></td>
                            <td><strong>51%</strong></td>
                            <td>Devs using AI daily at work</td>
                            <td>Self-reported, includes silent use</td>
                        </tr>
                        <tr>
                            <td><strong style="color: var(--secondary);">SO 2025 Total</strong></td>
                            <td><strong>84%</strong></td>
                            <td>Using or planning to use</td>
                            <td>Ceiling ‚Äî includes "planning"</td>
                        </tr>
                        <tr>
                            <td><strong style="color: var(--purple);">JetBrains 2025</strong></td>
                            <td><strong>85%</strong></td>
                            <td>Regularly use AI for coding</td>
                            <td>Self-reported, all usage types</td>
                        </tr>
                    </tbody>
                </table>
                <div style="display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: rgba(90, 153, 151, 0.1); border-radius: 6px;">
                    <div style="font-size: 2rem;">üßä</div>
                    <div>
                        <strong style="color: var(--secondary);">The Iceberg Analogy:</strong>
                        <p style="color: var(--text-muted); margin: 0.5rem 0 0 0; font-size: 0.85rem;">
                            Think of AI usage as an iceberg. Our 12.7% is the <strong>visible tip</strong> ‚Äî PRs where developers explicitly mention AI tools.
                            The <strong>hidden 80%</strong> includes: Copilot autocomplete (accepted silently), ChatGPT brainstorming (never documented),
                            and AI-assisted debugging (no trace in PR). Survey data captures the whole iceberg; we only see what surfaces in PR metadata.
                        </p>
                    </div>
                </div>
            </div>

            <div class="insight-box" style="background: rgba(249, 115, 22, 0.1); border-color: var(--primary);">
                <strong>Why This Matters:</strong> Our 12.7% is a <em>conservative floor</em>, not a ceiling. The real AI adoption rate in these teams is likely <strong>40-60%</strong> based on industry benchmarks. Our data shows <em>disclosed, attributable</em> AI usage ‚Äî valuable for understanding tool-specific patterns, but not total AI penetration.
                <ul style="margin-top: 0.5rem; padding-left: 1.25rem; color: var(--text-muted);">
                    <li><strong>Copilot autocomplete</strong> ‚Äî 68% of devs use it (SO 2025), but it's rarely mentioned in PRs</li>
                    <li><strong>ChatGPT research</strong> ‚Äî 82% use it, but for learning/debugging, not disclosed</li>
                    <li><strong>OSS disclosure norms</strong> ‚Äî OSS may have lower disclosure rates than enterprise</li>
                    <li><strong>Our unique value</strong> ‚Äî We capture <em>what developers choose to share</em>, showing tool attribution patterns</li>
                </ul>
            </div>

            <div class="two-col" style="gap: 1.5rem; margin-top: 1.5rem;">
                <div>
                    <h3 style="margin-bottom: 0.75rem;">Key Survey Insights (2025)</h3>
                    <ul style="padding-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>Trust declining:</strong> Only 33% trust AI outputs (SO 2025), down from 43% in 2024</li>
                        <li><strong>Productivity claims:</strong> 52% say AI improved productivity (SO 2025)</li>
                        <li><strong>Time saved:</strong> 88% save 1+ hour/week, 19% save 8+ hours (JetBrains 2025)</li>
                        <li><strong>Coding assistants:</strong> 62% use AI coding assistant or agent (JetBrains 2025)</li>
                    </ul>
                </div>
                <div>
                    <h3 style="margin-bottom: 0.75rem;">Our Unique Contribution</h3>
                    <ul style="padding-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>Behavioral data</strong> ‚Äî PR metadata, not self-reported surveys</li>
                        <li><strong>Tool attribution</strong> ‚Äî which specific tools are used where</li>
                        <li><strong>Metric correlation</strong> ‚Äî AI vs cycle time, review time</li>
                        <li><strong>Trend analysis</strong> ‚Äî month-over-month adoption changes</li>
                    </ul>
                </div>
            </div>

            <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(90, 153, 151, 0.1); border-radius: 8px;">
                <strong style="color: var(--secondary);">üìñ Sources:</strong>
                <span style="color: var(--text-muted);">
                    <a href="https://survey.stackoverflow.co/2025/ai" target="_blank" style="color: var(--primary);">Stack Overflow 2025</a> ‚Ä¢
                    <a href="https://devecosystem-2025.jetbrains.com/artificial-intelligence" target="_blank" style="color: var(--primary);">JetBrains 2025</a> ‚Ä¢
                    <a href="https://survey.stackoverflow.co/2024/ai" target="_blank" style="color: var(--primary);">Stack Overflow 2024</a> (for trend comparison)
                </span>
            </div>
        </section>

        <!-- ACTION ITEMS FOR YOUR TEAM -->
        <section id="action" class="cta-section" style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.15), rgba(34, 197, 94, 0.1)); border: 2px solid var(--primary); border-radius: 16px; padding: 2.5rem; margin-top: 2rem;">
            <h2>üéØ Action Items for Your Team</h2>
            <p style="text-align: center; color: var(--text-muted); margin-bottom: 2rem;">Based on our findings, here's what engineering leaders should evaluate in their own teams.</p>

            <div class="takeaway-grid" style="margin-bottom: 2rem;">
                <div class="takeaway-card">
                    <h4>üìä Measure Your Baseline</h4>
                    <p>Do you know your team's current AI adoption rate? Without measurement, you can't improve. Start tracking AI usage in PRs ‚Äî even informal surveys help.</p>
                </div>
                <div class="takeaway-card">
                    <h4>üìù Add AI Disclosure to PR Template</h4>
                    <p>High-adoption teams explicitly disclose AI usage. Add an "## AI Usage" section to your PR template. Even "No AI used" is valuable data.</p>
                </div>
                <div class="takeaway-card">
                    <h4>üîß Diversify Your Tool Stack</h4>
                    <p>Top performers use a mix of bots (CodeRabbit), IDEs (Cursor), and LLMs (Claude). Single-tool teams show worse outcomes than multi-tool teams.</p>
                </div>
                <div class="takeaway-card">
                    <h4>‚öñÔ∏è Target 40-60% Adoption</h4>
                    <p>Very high adoption (>80%) correlates with longer cycle times. The sweet spot appears to be balanced usage where AI augments rather than replaces human judgment.</p>
                </div>
                <div class="takeaway-card">
                    <h4>üîç Watch Review Velocity</h4>
                    <p>AI-assisted PRs typically get reviewed faster (-31% avg). If your team isn't seeing this benefit, investigate the quality of AI-generated code.</p>
                </div>
                <div class="takeaway-card">
                    <h4>üë• Consider Team Structure</h4>
                    <p>Focused teams (small core) show 52% higher AI adoption. If you have many occasional contributors, AI tool standardization may be harder.</p>
                </div>
            </div>

            <div style="background: var(--bg-card); border-radius: 12px; padding: 2rem; text-align: center;">
                <h3 style="margin-bottom: 0.75rem;">Want These Insights for Your Team?</h3>
                <p style="color: var(--text-muted); margin-bottom: 1.5rem;">
                    <strong>tformance</strong> connects to your GitHub, Jira, and Slack to automatically measure AI adoption, correlate with delivery metrics, and surface actionable insights ‚Äî no manual tracking required.
                </p>
                <div style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
                    <a href="https://tformance.com" style="background: var(--primary); color: white; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600;">Get Started ‚Üí</a>
                    <a href="mailto:contact@tformance.com" style="background: var(--bg-main); color: var(--text); padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 500; border: 1px solid var(--border);">Request Demo</a>
                </div>
            </div>
        </section>

        <footer>
            <div class="logo">tformance</div>
            <p>AI Impact Analytics for Engineering Teams</p>
            <p style="margin-top: 1rem; padding: 0.75rem 1.25rem; background: rgba(90, 153, 151, 0.1); border-radius: 8px; display: inline-block;">
                <strong style="color: var(--secondary);">Open to Share:</strong>
                Feel free to use this data, link to this report, or cite tformance in your articles and research. We'd love to be included in the conversation.
            </p>
            <p style="margin-top: 0.5rem;">¬© 2025 tformance. Data sourced from public GitHub repositories.</p>
            <p style="font-size: 0.75rem; color: var(--text-muted); margin-top: 0.75rem; opacity: 0.7;">
                GitHub, Copilot, ChatGPT, Claude, Cursor, CodeRabbit, Devin, and other product names mentioned are trademarks of their respective owners. This report is independent research and is not affiliated with or endorsed by any of the companies mentioned.
            </p>

            <!-- Legal Disclaimers -->
            <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border); font-size: 0.7rem; color: var(--text-muted); opacity: 0.6; line-height: 1.6;">
                <p style="margin-bottom: 0.75rem;"><strong>DISCLAIMER:</strong> This report is provided for informational and educational purposes only. The findings, statistics, and conclusions presented are based on analysis of publicly available data from open source software repositories and may not be representative of private or enterprise codebases.</p>

                <p style="margin-bottom: 0.75rem;"><strong>NO WARRANTY:</strong> The information in this report is provided "as is" without warranty of any kind, express or implied. While we have made reasonable efforts to ensure accuracy, we make no representations or warranties regarding the completeness, reliability, or accuracy of any information contained herein. Detection methodologies may produce false positives or false negatives.</p>

                <p style="margin-bottom: 0.75rem;"><strong>NOT PROFESSIONAL ADVICE:</strong> This report does not constitute investment, legal, business, or professional advice of any kind. Readers should not make decisions solely based on the information presented here. Before making any business or technology decisions, consult with qualified professionals and conduct your own independent analysis appropriate to your circumstances.</p>

                <p style="margin-bottom: 0.75rem;"><strong>DATA LIMITATIONS:</strong> Our sample of 51 open source teams (~118,000 PRs) represents a specific subset of software development activity and may not reflect broader industry patterns. Selection bias exists toward well-maintained, popular projects. Detection rates represent disclosed AI usage only; actual AI tool usage may be significantly higher. The 12.7% detected adoption rate is a floor estimate, not a comprehensive measure.</p>

                <p style="margin-bottom: 0.75rem;"><strong>THIRD-PARTY DATA:</strong> Industry comparison data from Stack Overflow Developer Survey 2025 and JetBrains State of Developer Ecosystem 2025 is used under fair use for research commentary. These surveys measure different populations and methodologies than our behavioral analysis. Direct comparisons should be interpreted with caution.</p>

                <p style="margin-bottom: 0.75rem;"><strong>LIMITATION OF LIABILITY:</strong> In no event shall tformance, its authors, affiliates, or data providers be liable for any direct, indirect, incidental, special, consequential, or punitive damages arising out of or related to your use of or reliance on this report.</p>

                <p style="margin-bottom: 0;"><strong>METHODOLOGY TRANSPARENCY:</strong> Our detection methods (regex pattern matching and LLM analysis) achieved 96.1% agreement on test data, but neither method has been independently validated for false negative rates. The -5% cycle time correlation finding shows association, not causation. Reproduction and peer review of our methodology is welcomed.</p>
            </div>
        </footer>
    </div>

    <script>
        // Register datalabels plugin
        Chart.register(ChartDataLabels);

        // Theme management
        function getSystemTheme() {
            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        function getCurrentTheme() {
            return document.documentElement.getAttribute('data-theme') || getSystemTheme();
        }

        function applyTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            document.getElementById('theme-icon').textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            document.getElementById('theme-label').textContent = theme === 'dark' ? 'Light' : 'Dark';
            updateChartColors();
        }

        function toggleTheme() {
            const currentTheme = getCurrentTheme();
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        }

        // Listen for system theme changes (only applies if no manual preference)
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            if (!localStorage.getItem('theme')) {
                applyTheme(e.matches ? 'dark' : 'light');
            }
        });

        // Initialize theme UI on page load
        document.addEventListener('DOMContentLoaded', () => {
            applyTheme(getCurrentTheme());
        });

        function getColors() {
            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            return {
                primary: '#F97316',
                secondary: '#5a9997',
                success: '#22c55e',
                warning: '#eab308',
                error: '#ef4444',
                purple: '#a855f7',
                text: isDark ? '#ccc9c0' : '#1f2937',
                muted: isDark ? '#8a8880' : '#6b7280',
                grid: isDark ? '#3c3c3a' : '#e5e7eb'
            };
        }

        let charts = {};

        function updateChartColors() {
            const colors = getColors();
            Object.values(charts).forEach(chart => {
                if (chart.options.scales) {
                    if (chart.options.scales.x) {
                        chart.options.scales.x.ticks.color = colors.text;
                        chart.options.scales.x.grid.color = colors.grid;
                    }
                    if (chart.options.scales.y) {
                        chart.options.scales.y.ticks.color = colors.text;
                        chart.options.scales.y.grid.color = colors.grid;
                    }
                }
                if (chart.options.plugins && chart.options.plugins.legend) {
                    chart.options.plugins.legend.labels.color = colors.text;
                }
                if (chart.options.plugins && chart.options.plugins.title) {
                    chart.options.plugins.title.color = colors.text;
                }
                chart.update();
            });
        }

        // Team data (51 teams from team_summary.csv)
        const teamData = [
            {"team": "Plane", "total": 1717, "ai_pct": 85.6, "cycle_delta": 75, "review_delta": -14, "size_delta": -88},
            {"team": "Appsmith", "total": 1431, "ai_pct": 77.1, "cycle_delta": 72, "review_delta": -50, "size_delta": -79},
            {"team": "Erxes", "total": 557, "ai_pct": 70.4, "cycle_delta": -14, "review_delta": null, "size_delta": -88},
            {"team": "Antiwork", "total": 4144, "ai_pct": 56.6, "cycle_delta": -9, "review_delta": -59, "size_delta": 4},
            {"team": "Dub", "total": 1354, "ai_pct": 56.0, "cycle_delta": 22, "review_delta": -37, "size_delta": -63},
            {"team": "Formbricks", "total": 1669, "ai_pct": 46.9, "cycle_delta": 34, "review_delta": -23, "size_delta": -58},
            {"team": "Cal.com", "total": 5669, "ai_pct": 40.3, "cycle_delta": 5, "review_delta": -1, "size_delta": -25},
            {"team": "Resend", "total": 974, "ai_pct": 36.8, "cycle_delta": -66, "review_delta": -96, "size_delta": -66},
            {"team": "Trigger.dev", "total": 1054, "ai_pct": 35.5, "cycle_delta": -6, "review_delta": -57, "size_delta": 21},
            {"team": "AFFiNE", "total": 3426, "ai_pct": 33.6, "cycle_delta": 61, "review_delta": -27, "size_delta": -31},
            {"team": "OpenReplay", "total": 1122, "ai_pct": 21.2, "cycle_delta": -93, "review_delta": -99, "size_delta": -81},
            {"team": "Infisical", "total": 1694, "ai_pct": 20.5, "cycle_delta": 34, "review_delta": 68, "size_delta": -54},
            {"team": "Novu", "total": 2175, "ai_pct": 13.5, "cycle_delta": -39, "review_delta": -26, "size_delta": -82},
            {"team": "Comp AI", "total": 1699, "ai_pct": 12.9, "cycle_delta": -83, "review_delta": -94, "size_delta": -4},
            {"team": "Supabase", "total": 2926, "ai_pct": 10.9, "cycle_delta": 86, "review_delta": 83, "size_delta": -84},
            {"team": "LobeChat", "total": 2710, "ai_pct": 9.9, "cycle_delta": -75, "review_delta": -99, "size_delta": -40},
            {"team": "Coolify", "total": 1177, "ai_pct": 9.3, "cycle_delta": -85, "review_delta": -96, "size_delta": -46},
            {"team": "SigNoz", "total": 1800, "ai_pct": 7.9, "cycle_delta": 87, "review_delta": 295, "size_delta": -12},
            {"team": "n8n", "total": 6124, "ai_pct": 6.4, "cycle_delta": 116, "review_delta": -43, "size_delta": -73},
            {"team": "Chatwoot", "total": 530, "ai_pct": 6.0, "cycle_delta": 83, "review_delta": -46, "size_delta": -84},
            {"team": "Excalidraw", "total": 724, "ai_pct": 5.1, "cycle_delta": 327, "review_delta": -65, "size_delta": 102},
            {"team": "Ghost", "total": 3583, "ai_pct": 4.9, "cycle_delta": 178, "review_delta": 116, "size_delta": -9},
            {"team": "Directus", "total": 990, "ai_pct": 4.0, "cycle_delta": 4, "review_delta": -38, "size_delta": 354},
            {"team": "Vercel", "total": 6167, "ai_pct": 4.0, "cycle_delta": -7, "review_delta": -6, "size_delta": -55},
            {"team": "LangChain", "total": 5358, "ai_pct": 4.0, "cycle_delta": 72, "review_delta": 1, "size_delta": -47},
            {"team": "Flowise", "total": 703, "ai_pct": 4.0, "cycle_delta": -37, "review_delta": -24, "size_delta": -69},
            {"team": "Mattermost", "total": 2916, "ai_pct": 3.9, "cycle_delta": 75, "review_delta": 119, "size_delta": -17},
            {"team": "Polar.sh", "total": 3261, "ai_pct": 2.6, "cycle_delta": -58, "review_delta": -92, "size_delta": -77},
            {"team": "Open WebUI", "total": 3310, "ai_pct": 2.6, "cycle_delta": 158, "review_delta": -94, "size_delta": -68},
            {"team": "PostHog Analytics", "total": 6367, "ai_pct": 2.5, "cycle_delta": 11, "review_delta": -17, "size_delta": 51},
            {"team": "Budibase", "total": 1275, "ai_pct": 2.4, "cycle_delta": 20, "review_delta": 33, "size_delta": 3},
            {"team": "Hyperswitch", "total": 2432, "ai_pct": 1.8, "cycle_delta": 78, "review_delta": -23, "size_delta": -64},
            {"team": "Activepieces", "total": 3135, "ai_pct": 1.7, "cycle_delta": 14, "review_delta": -60, "size_delta": 106},
            {"team": "Outline", "total": 1515, "ai_pct": 1.7, "cycle_delta": -29, "review_delta": -95, "size_delta": 655},
            {"team": "Zitadel", "total": 1103, "ai_pct": 1.5, "cycle_delta": 69, "review_delta": 127, "size_delta": -84},
            {"team": "Dify", "total": 5156, "ai_pct": 1.4, "cycle_delta": -23, "review_delta": -17, "size_delta": -10},
            {"team": "Twenty CRM", "total": 5217, "ai_pct": 1.2, "cycle_delta": 86, "review_delta": -69, "size_delta": 10},
            {"team": "Strapi", "total": 1120, "ai_pct": 1.1, "cycle_delta": -37, "review_delta": -71, "size_delta": -59},
            {"team": "Ollama", "total": 1598, "ai_pct": 0.9, "cycle_delta": -88, "review_delta": 266, "size_delta": -77},
            {"team": "Documenso", "total": 513, "ai_pct": 0.8, "cycle_delta": -100, "review_delta": null, "size_delta": -97},
            {"team": "FastAPI Team", "total": 916, "ai_pct": 0.8, "cycle_delta": -51, "review_delta": -66, "size_delta": 436},
            {"team": "Saleor", "total": 1402, "ai_pct": 0.6, "cycle_delta": -32, "review_delta": 7, "size_delta": -81},
            {"team": "Neon", "total": 2176, "ai_pct": 0.6, "cycle_delta": -2, "review_delta": -90, "size_delta": -81},
            {"team": "Deno", "total": 2664, "ai_pct": 0.5, "cycle_delta": 20, "review_delta": 24, "size_delta": -86},
            {"team": "Webstudio", "total": 664, "ai_pct": 0.5, "cycle_delta": null, "review_delta": 401, "size_delta": -5},
            {"team": "Matomo", "total": 697, "ai_pct": 0.4, "cycle_delta": 285, "review_delta": 159, "size_delta": -9},
            {"team": "Plausible", "total": 905, "ai_pct": 0.2, "cycle_delta": 44, "review_delta": 172, "size_delta": -29},
            {"team": "ToolJet", "total": 2555, "ai_pct": 0.2, "cycle_delta": null, "review_delta": -99, "size_delta": -66},
            {"team": "Huly", "total": 2072, "ai_pct": 0.0, "cycle_delta": 649, "review_delta": 1756, "size_delta": -82},
            {"team": "Penpot", "total": 2090, "ai_pct": 0.0, "cycle_delta": -91, "review_delta": -89, "size_delta": -100},
            {"team": "GrowthBook", "total": 1203, "ai_pct": 0.0, "cycle_delta": null, "review_delta": null, "size_delta": null}
        ];

        // Tool trends data
        const toolTrends = {
            "2025-01": {"coderabbit": 272, "chatgpt": 5, "greptile": 5, "copilot": 4, "cursor": 2, "claude": 0, "devin": 0, "cubic": 0},
            "2025-02": {"coderabbit": 325, "greptile": 26, "chatgpt": 5, "cursor": 2, "copilot": 2, "claude": 0, "devin": 0, "cubic": 0},
            "2025-03": {"coderabbit": 560, "devin": 73, "greptile": 16, "chatgpt": 6, "claude": 5, "copilot": 3, "cursor": 0, "cubic": 0},
            "2025-04": {"coderabbit": 567, "devin": 178, "greptile": 17, "copilot": 13, "chatgpt": 6, "claude": 5, "cursor": 0, "cubic": 0},
            "2025-05": {"coderabbit": 467, "devin": 222, "cubic": 130, "greptile": 28, "copilot": 15, "claude": 4, "cursor": 0, "chatgpt": 0},
            "2025-06": {"coderabbit": 611, "cubic": 263, "devin": 195, "greptile": 28, "claude": 22, "cursor": 18, "copilot": 0, "chatgpt": 0},
            "2025-07": {"coderabbit": 866, "devin": 301, "cubic": 149, "greptile": 53, "copilot": 34, "cursor": 30, "claude": 0, "chatgpt": 0},
            "2025-08": {"coderabbit": 787, "devin": 215, "cursor": 64, "greptile": 52, "claude": 45, "copilot": 31, "cubic": 0, "chatgpt": 0},
            "2025-09": {"coderabbit": 289, "devin": 184, "cursor": 98, "claude": 79, "cubic": 68, "greptile": 62, "copilot": 0, "chatgpt": 0},
            "2025-10": {"coderabbit": 298, "cubic": 295, "claude": 159, "cursor": 157, "devin": 104, "copilot": 74, "greptile": 0, "chatgpt": 0},
            "2025-11": {"cubic": 347, "coderabbit": 307, "cursor": 150, "claude": 123, "devin": 122, "copilot": 72, "greptile": 0, "chatgpt": 0},
            "2025-12": {"coderabbit": 528, "cubic": 302, "claude": 249, "cursor": 172, "devin": 141, "copilot": 94, "greptile": 0, "chatgpt": 0}
        };

        const colors = getColors();

        // Overall AI Adoption Trend 2025
        const overallTrendData = {
            months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            prs: [8511, 8925, 10219, 10289, 9585, 9579, 10704, 10015, 11405, 12248, 11226, 11789],
            ai_pct: [7.9, 8.3, 11.2, 11.9, 14.9, 15.5, 19.1, 14.9, 12.2, 13.4, 16.0, 15.5]
        };

        charts.overallTrend = new Chart(document.getElementById('overallTrendChart'), {
            type: 'line',
            data: {
                labels: overallTrendData.months,
                datasets: [{
                    label: 'AI Adoption %',
                    data: overallTrendData.ai_pct,
                    borderColor: '#F97316',
                    backgroundColor: 'rgba(249, 115, 22, 0.1)',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 6,
                    pointBackgroundColor: '#F97316'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'Overall AI-Assisted PR Rate Across All Teams', color: colors.text, font: { size: 14 } },
                    tooltip: {
                        callbacks: {
                            afterLabel: (ctx) => `${overallTrendData.prs[ctx.dataIndex].toLocaleString()} total PRs`
                        }
                    },
                    datalabels: {
                        display: true,
                        anchor: 'end',
                        align: 'top',
                        color: colors.text,
                        font: { weight: 'bold', size: 11 },
                        formatter: (v) => v.toFixed(1) + '%'
                    }
                },
                scales: {
                    x: { ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { ticks: { color: colors.text }, grid: { color: colors.grid }, min: 0, max: 40, title: { display: true, text: 'AI Adoption %', color: colors.text } }
                }
            }
        });

        const months = Object.keys(toolTrends);
        const toolColors = {
            'coderabbit': '#F97316',
            'devin': '#eab308',
            'cubic': '#d97706',
            'claude': '#a855f7',
            'cursor': '#5a9997',
            'copilot': '#22c55e',
            'greptile': '#60a5fa',
            'chatgpt': '#8a8880'
        };

        // Tool Trends Chart
        charts.toolTrends = new Chart(document.getElementById('toolTrendsChart'), {
            type: 'line',
            data: {
                labels: months.map(m => m.substring(5)),
                datasets: ['coderabbit', 'devin', 'cubic', 'claude', 'cursor', 'copilot'].map(tool => ({
                    label: tool.charAt(0).toUpperCase() + tool.slice(1),
                    data: months.map(m => toolTrends[m][tool] || 0),
                    borderColor: toolColors[tool],
                    backgroundColor: 'transparent',
                    tension: 0.4,
                    pointRadius: 4
                }))
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: colors.text } },
                    title: { display: true, text: 'AI Tool Usage by Month (PRs)', color: colors.text },
                    datalabels: { display: false }
                },
                scales: {
                    x: { ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { ticks: { color: colors.text }, grid: { color: colors.grid }, title: { display: true, text: 'PRs per Month', color: colors.text } }
                }
            }
        });

        // Category Trends Chart
        const categoryData = months.map(m => {
            const d = toolTrends[m];
            return {
                bots: d.coderabbit + (d.greptile || 0),
                agents: d.devin + d.cubic,
                human: d.claude + d.cursor + d.copilot + (d.chatgpt || 0)
            };
        });

        charts.categoryTrends = new Chart(document.getElementById('categoryTrendsChart'), {
            type: 'bar',
            data: {
                labels: months.map(m => m.substring(5)),
                datasets: [
                    { label: 'Review Bots', data: categoryData.map(d => d.bots), backgroundColor: '#F97316', stack: 'stack' },
                    { label: 'Autonomous Agents', data: categoryData.map(d => d.agents), backgroundColor: '#eab308', stack: 'stack' },
                    { label: 'Human-Directed AI', data: categoryData.map(d => d.human), backgroundColor: '#5a9997', stack: 'stack' }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: colors.text } },
                    datalabels: { display: false }
                },
                scales: {
                    x: { stacked: true, ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { stacked: true, ticks: { color: colors.text }, grid: { color: colors.grid } }
                }
            }
        });

        // Tool Market Share (current)
        charts.toolShare = new Chart(document.getElementById('toolShareChart'), {
            type: 'doughnut',
            data: {
                labels: ['CodeRabbit', 'Devin', 'Cubic', 'Claude', 'Cursor', 'Copilot'],
                datasets: [{
                    data: [53.5, 17.9, 12.8, 4.9, 4.7, 2.0],
                    backgroundColor: [toolColors.coderabbit, toolColors.devin, toolColors.cubic, toolColors.claude, toolColors.cursor, toolColors.copilot]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right', labels: { color: colors.text } },
                    title: { display: true, text: 'Overall Tool Share (2025)', color: colors.text },
                    datalabels: { display: false }
                }
            }
        });

        // Team Adoption Chart
        const sortedTeams = [...teamData].sort((a, b) => b.ai_pct - a.ai_pct);
        charts.teamAdoption = new Chart(document.getElementById('teamAdoptionChart'), {
            type: 'bar',
            data: {
                labels: sortedTeams.map(t => t.team),
                datasets: [{
                    label: 'AI Adoption %',
                    data: sortedTeams.map(t => t.ai_pct),
                    backgroundColor: sortedTeams.map(t =>
                        t.ai_pct > 50 ? '#F97316' :
                        t.ai_pct > 20 ? '#eab308' :
                        t.ai_pct > 5 ? '#5a9997' : '#8a8880'
                    ),
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    datalabels: {
                        anchor: 'end',
                        align: 'end',
                        color: colors.text,
                        font: { family: "'JetBrains Mono', monospace", size: 10 },
                        formatter: (v) => v > 0 ? v.toFixed(1) + '%' : ''
                    }
                },
                scales: {
                    x: { max: 100, ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { ticks: { color: colors.text, font: { size: 11 } }, grid: { display: false } }
                }
            }
        });

        // Review Impact Chart
        const reviewData = teamData.filter(t => t.review_delta !== null).sort((a, b) => a.review_delta - b.review_delta).slice(0, 15);
        charts.reviewImpact = new Chart(document.getElementById('reviewImpactChart'), {
            type: 'bar',
            data: {
                labels: reviewData.map(t => t.team),
                datasets: [{
                    label: 'Review Time Change %',
                    data: reviewData.map(t => t.review_delta),
                    backgroundColor: reviewData.map(t => t.review_delta < 0 ? '#22c55e' : '#ef4444'),
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    datalabels: {
                        anchor: 'end',
                        align: (ctx) => ctx.dataset.data[ctx.dataIndex] < 0 ? 'start' : 'end',
                        color: colors.text,
                        font: { family: "'JetBrains Mono', monospace", size: 10 },
                        formatter: (v) => (v > 0 ? '+' : '') + v.toFixed(0) + '%'
                    }
                },
                scales: {
                    x: { ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { ticks: { color: colors.text, font: { size: 10 } }, grid: { display: false } }
                }
            }
        });

        // Cycle Impact Chart
        const cycleData = teamData.filter(t => t.cycle_delta !== null).sort((a, b) => a.cycle_delta - b.cycle_delta).slice(0, 15);
        charts.cycleImpact = new Chart(document.getElementById('cycleImpactChart'), {
            type: 'bar',
            data: {
                labels: cycleData.map(t => t.team),
                datasets: [{
                    label: 'Cycle Time Change %',
                    data: cycleData.map(t => t.cycle_delta),
                    backgroundColor: cycleData.map(t => t.cycle_delta < 0 ? '#22c55e' : '#ef4444'),
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    datalabels: {
                        anchor: 'end',
                        align: (ctx) => ctx.dataset.data[ctx.dataIndex] < 0 ? 'start' : 'end',
                        color: colors.text,
                        font: { family: "'JetBrains Mono', monospace", size: 10 },
                        formatter: (v) => (v > 0 ? '+' : '') + v.toFixed(0) + '%'
                    }
                },
                scales: {
                    x: { ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { ticks: { color: colors.text, font: { size: 10 } }, grid: { display: false } }
                }
            }
        });

        // All 51 teams monthly data (from monthly_trends.csv - generated by export_report_data.py)
        const allTeamsMonthlyData = [
            { team: "AFFiNE", data: [0.8, 0.2, 0.4, 21.2, 78.6, 80.1, 87.4, 93.6, 63.8, 70.7, 89.7, 84.9], color: "#F97316" },
            { team: "Activepieces", data: [0.5, 0.7, 1.7, 5.8, 0.3, 0.0, 1.3, 2.5, 1.8, 0.6, 2.3, 3.1], color: "#5a9997" },
            { team: "Antiwork", data: [null, null, 40.3, 27.7, 74.2, 95.7, 94.5, 66.8, 26.0, 35.9, 39.9, 52.2], color: "#eab308" },
            { team: "Appsmith", data: [85.5, 85.3, 86.7, 84.4, 60.6, 69.2, 59.7, 50.0, 57.1, 59.6, 68.0, 62.9], color: "#6366f1" },
            { team: "Budibase", data: [0.0, 0.0, 0.9, 1.2, 0.0, 2.7, 2.0, 5.2, 1.0, 2.0, 0.9, 14.1], color: "#ec4899" },
            { team: "Cal.com", data: [22.9, 24.6, 27.3, 14.6, 44.9, 78.8, 58.5, 21.1, 24.9, 49.6, 62.7, 62.0], color: "#14b8a6" },
            { team: "Chatwoot", data: [null, null, null, null, null, null, null, 9.5, 4.7, 3.6, 8.0, 6.8], color: "#8b5cf6" },
            { team: "Comp AI", data: [0.0, 64.9, 91.2, 27.4, 0.0, 2.7, 0.0, 1.3, 0.0, 0.0, 1.4, 1.9], color: "#f43f5e" },
            { team: "Coolify", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.7, 5.3, 19.9, 28.1, 9.2], color: "#06b6d4" },
            { team: "Deno", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.8, 0.7, 0.6, 4.3, 0.0], color: "#10b981" },
            { team: "Dify", data: [3.8, 0.5, 0.2, 0.9, 0.3, 1.3, 0.4, 2.3, 1.6, 0.8, 1.5, 2.9], color: "#a855f7" },
            { team: "Directus", data: [0.0, 0.0, 0.0, 0.0, 0.0, 3.9, 21.3, 2.0, 0.0, 5.9, 6.5, 3.2], color: "#f59e0b" },
            { team: "Documenso", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.6, 0.0, 4.2], color: "#84cc16" },
            { team: "Dub", data: [0.0, 0.0, 0.7, 1.5, 19.7, 96.9, 95.0, 91.6, 94.4, 96.3, 95.7, 92.5], color: "#ef4444" },
            { team: "Erxes", data: [44.2, 35.1, 40.0, 64.0, 58.1, 69.2, 92.0, 87.0, 92.6, 81.3, 82.8, 81.8], color: "#78716c" },
            { team: "Excalidraw", data: [2.0, 0.0, 0.0, 3.4, 18.2, 14.6, 5.3, 0.0, 0.0, 1.5, 9.3, 3.8], color: "#22c55e" },
            { team: "FastAPI Team", data: [0.0, 0.0, 1.3, 0.0, 0.0, 0.0, 0.0, 4.5, 2.7, 0.0, 0.0, 1.5], color: "#3b82f6" },
            { team: "Flowise", data: [0.0, 4.1, 1.8, 6.7, 1.3, 0.0, 0.0, 1.8, 13.7, 22.7, 3.0, 3.4], color: "#0ea5e9" },
            { team: "Formbricks", data: [90.5, 85.1, 59.1, 47.7, 66.4, 85.6, 80.6, 0.0, 2.1, 3.0, 3.7, 1.0], color: "#f97316" },
            { team: "Ghost", data: [15.8, 0.0, 0.0, 0.5, 0.4, 0.2, 0.9, 0.6, 5.0, 6.4, 31.2, 22.5], color: "#d946ef" },
            { team: "GrowthBook", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], color: "#fbbf24" },
            { team: "Huly", data: [0.6, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], color: "#a3e635" },
            { team: "Hyperswitch", data: [0.0, 0.0, 0.0, 0.0, 2.8, 11.4, 3.8, 0.5, 0.0, 0.6, 0.0, 2.6], color: "#2dd4bf" },
            { team: "Infisical", data: [0.0, 44.7, 94.0, 92.7, 19.5, 0.0, 0.0, 0.0, 0.0, 0.6, 0.0, 0.0], color: "#fb7185" },
            { team: "LangChain", data: [1.8, 3.3, 2.8, 2.8, 1.4, 3.6, 4.7, 5.5, 3.6, 4.5, 5.7, 7.5], color: "#c084fc" },
            { team: "LobeChat", data: [1.3, 3.5, 3.4, 2.9, 3.6, 5.1, 0.0, 9.3, 6.2, 11.9, 20.5, 24.3], color: "#64748b" },
            { team: "Matomo", data: [0.0, 0.0, 0.0, 0.0, 1.6, 0.0, 0.0, 0.0, 2.0, 1.3, 0.0, 0.0], color: "#f472b6" },
            { team: "Mattermost", data: [1.4, 4.0, 9.1, 8.7, 3.2, 5.1, 4.5, 1.6, 1.7, 0.6, 6.3, 2.0], color: "#38bdf8" },
            { team: "Neon", data: [0.0, 0.0, 0.8, 1.5, 1.7, 0.4, 0.0, 0.0, 0.0, 16.7, 0.0, 0.0], color: "#4ade80" },
            { team: "Novu", data: [0.0, 0.0, 0.0, 0.5, 16.5, 26.2, 16.6, 17.2, 23.6, 25.9, 22.0, 19.7], color: "#818cf8" },
            { team: "Ollama", data: [1.2, 1.0, 0.6, 0.0, 0.7, 1.1, 1.0, 0.8, 0.9, 0.6, 1.3, 2.3], color: "#fbbf24" },
            { team: "Open WebUI", data: [1.4, 2.0, 1.3, 0.7, 1.2, 2.3, 0.8, 5.1, 3.4, 4.0, 5.1, 3.1], color: "#f87171" },
            { team: "OpenReplay", data: [26.3, 13.9, 23.8, 54.0, 51.5, 33.3, 47.7, 42.5, 11.1, 0.0, 0.8, 0.7], color: "#a78bfa" },
            { team: "Outline", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6, 0.0, 1.4, 1.6, 12.4], color: "#34d399" },
            { team: "Penpot", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.0], color: "#fcd34d" },
            { team: "Plane", data: [74.3, 90.7, 90.4, 91.3, 92.9, 83.3, 87.1, 90.7, 83.3, 90.6, 93.8, 75.8], color: "#f97316" },
            { team: "Plausible", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.3, 1.2, 0.0, 0.0], color: "#60a5fa" },
            { team: "Polar.sh", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4, 3.6, 5.9, 5.7, 5.1, 2.8], color: "#c4b5fd" },
            { team: "PostHog Analytics", data: [0.9, 1.0, 0.6, 0.0, 0.0, 1.0, 0.8, 1.0, 0.7, 4.1, 3.6, 4.4], color: "#fb923c" },
            { team: "Resend", data: [0.0, 0.0, 2.3, 0.6, 0.0, 0.0, 0.0, 37.5, 72.4, 80.7, 83.0, 88.9], color: "#5eead4" },
            { team: "Saleor", data: [2.8, 0.0, 0.0, 0.0, 0.0, 0.0, 1.9, 0.0, 1.5, 1.2, 0.0, 0.0], color: "#a5b4fc" },
            { team: "SigNoz", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.6, 0.0, 2.6, 11.6, 51.0, 53.3], color: "#86efac" },
            { team: "Strapi", data: [1.0, 1.1, 0.0, 0.0, 1.9, 0.0, 0.9, 0.0, 3.4, 1.9, 1.1, 1.5], color: "#fca5a5" },
            { team: "Supabase", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.0, 1.4, 3.0, 1.3, 5.8, 41.7], color: "#67e8f9" },
            { team: "ToolJet", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.2, 0.3, 0.0, 0.0, 0.5, 0.6], color: "#d8b4fe" },
            { team: "Trigger.dev", data: [71.7, 84.0, 91.0, 89.1, 53.4, 1.4, 1.0, 0.8, 2.0, 5.5, 3.6, 4.5], color: "#fdba74" },
            { team: "Twenty CRM", data: [0.0, 0.4, 0.0, 0.8, 0.3, 2.9, 1.1, 0.2, 0.7, 0.6, 3.7, 2.9], color: "#bef264" },
            { team: "Vercel", data: [0.0, 2.4, 3.5, 3.0, 3.2, 6.0, 4.5, 7.0, 6.1, 2.3, 4.5, 5.7], color: "#7dd3fc" },
            { team: "Webstudio", data: [0.0, 0.0, 0.0, 0.0, 0.0, 2.2, 0.0, 0.0, 0.0, 0.0, 0.0, 3.7], color: "#fda4af" },
            { team: "Zitadel", data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.6, 2.3, 2.3, 4.0, 4.7, 2.7], color: "#a5f3fc" },
            { team: "n8n", data: [0.6, 0.6, 0.0, 0.5, 1.8, 1.6, 1.8, 4.2, 7.5, 11.6, 30.4, 1.8], color: "#e879f9" }
        ];

        // Default teams to show (highest adoption teams)
        const defaultTeams = ["Plane", "Appsmith", "Antiwork", "Dub", "Formbricks"];

        // Populate team dropdowns (sorted alphabetically)
        function populateTeamDropdowns() {
            // Sort teams alphabetically
            const sortedTeams = [...allTeamsMonthlyData].sort((a, b) => a.team.localeCompare(b.team));

            for (let i = 1; i <= 5; i++) {
                const select = document.getElementById('teamSelect' + i);
                // Add empty option
                const emptyOpt = document.createElement('option');
                emptyOpt.value = '';
                emptyOpt.textContent = '-- Select Team --';
                select.appendChild(emptyOpt);
                // Add all teams (sorted)
                sortedTeams.forEach(function(team) {
                    const opt = document.createElement('option');
                    opt.value = team.team;
                    opt.textContent = team.team;
                    select.appendChild(opt);
                });
                // Set default selection
                if (defaultTeams[i - 1]) {
                    select.value = defaultTeams[i - 1];
                }
            }
        }

        // Get selected teams from dropdowns
        function getSelectedTeams() {
            const selected = [];
            for (let i = 1; i <= 5; i++) {
                const val = document.getElementById('teamSelect' + i).value;
                if (val) selected.push(val);
            }
            return selected;
        }

        // Build datasets for selected teams only
        function buildMonthlyDatasets() {
            const selected = getSelectedTeams();
            return allTeamsMonthlyData
                .filter(function(t) { return selected.includes(t.team); })
                .map(function(team) {
                    return {
                        label: team.team,
                        data: team.data,
                        borderColor: team.color,
                        backgroundColor: 'transparent',
                        tension: 0.4,
                        pointRadius: 4
                    };
                });
        }

        // Monthly Team Trends Chart
        charts.monthlyTrend = new Chart(document.getElementById('monthlyTrendChart'), {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: buildMonthlyDatasets()
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: colors.text } },
                    title: { display: true, text: 'AI Adoption Over 2025', color: colors.text },
                    datalabels: { display: false }
                },
                scales: {
                    x: { ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { ticks: { color: colors.text }, grid: { color: colors.grid }, title: { display: true, text: 'AI Adoption %', color: colors.text } }
                }
            }
        });

        // Update chart when dropdowns change
        function updateMonthlyChart() {
            charts.monthlyTrend.data.datasets = buildMonthlyDatasets();
            charts.monthlyTrend.update();
        }

        // Initialize team dropdowns and update chart with defaults
        populateTeamDropdowns();
        updateMonthlyChart();

        // Team Detection Comparison: LLM vs Regex
        const teamDetectionData = [
            { team: 'Cal.com', llm: 2336, regex: 1860, delta: 476, pctChange: 25.6 },
            { team: 'PostHog', llm: 468, regex: 156, delta: 312, pctChange: 200.0 },
            { team: 'Twenty CRM', llm: 267, regex: 58, delta: 209, pctChange: 360.3 },
            { team: 'Deno', llm: 66, regex: 13, delta: 53, pctChange: 407.7 },
            { team: 'Antiwork', llm: 2473, regex: 2429, delta: 44, pctChange: 1.8 },
            { team: 'Neon', llm: 71, regex: 36, delta: 35, pctChange: 97.2 },
            { team: 'Polar.sh', llm: 295, regex: 265, delta: 30, pctChange: 11.3 },
            { team: 'Plane', llm: 1318, regex: 1322, delta: -4, pctChange: -0.3 },
            { team: 'Trigger.dev', llm: 217, regex: 238, delta: -21, pctChange: -8.8 },
            { team: 'LangChain', llm: 164, regex: 214, delta: -50, pctChange: -23.4 },
            { team: 'Vercel', llm: 114, regex: 249, delta: -135, pctChange: -54.2 }
        ];

        charts.teamDetection = new Chart(document.getElementById('teamDetectionChart'), {
            type: 'bar',
            data: {
                labels: teamDetectionData.map(t => t.team),
                datasets: [{
                    label: 'LLM Improvement (+) / Regex Over-Match (-)',
                    data: teamDetectionData.map(t => t.delta),
                    backgroundColor: teamDetectionData.map(t =>
                        t.delta > 0 ? 'rgba(34, 197, 94, 0.8)' : 'rgba(239, 68, 68, 0.8)'
                    ),
                    borderColor: teamDetectionData.map(t =>
                        t.delta > 0 ? '#22c55e' : '#ef4444'
                    ),
                    borderWidth: 1,
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: {
                        display: true,
                        text: 'Additional AI PRs Detected: LLM vs Regex',
                        color: colors.text,
                        font: { size: 14 }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(ctx) {
                                const t = teamDetectionData[ctx.dataIndex];
                                const sign = t.delta > 0 ? '+' : '';
                                return [
                                    `Delta: ${sign}${t.delta} PRs (${sign}${t.pctChange.toFixed(1)}%)`,
                                    `LLM: ${t.llm} AI PRs`,
                                    `Regex: ${t.regex} AI PRs`
                                ];
                            }
                        }
                    },
                    datalabels: {
                        display: true,
                        anchor: function(ctx) {
                            return teamDetectionData[ctx.dataIndex].delta >= 0 ? 'end' : 'start';
                        },
                        align: function(ctx) {
                            return teamDetectionData[ctx.dataIndex].delta >= 0 ? 'right' : 'left';
                        },
                        color: colors.text,
                        font: { weight: 'bold', size: 11 },
                        formatter: function(value, ctx) {
                            const t = teamDetectionData[ctx.dataIndex];
                            const sign = value > 0 ? '+' : '';
                            return `${sign}${value} (${sign}${t.pctChange.toFixed(0)}%)`;
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: { color: colors.text },
                        grid: { color: colors.grid },
                        title: { display: true, text: 'Additional AI PRs Detected', color: colors.text }
                    },
                    y: {
                        ticks: { color: colors.text },
                        grid: { color: colors.grid }
                    }
                }
            }
        });

        // PR Type Chart
        const prTypeData = [
            { type: 'Refactor', prs: 4129, ai_pct: 32.8 },
            { type: 'Feature', prs: 14264, ai_pct: 26.7 },
            { type: 'Test', prs: 647, ai_pct: 23.6 },
            { type: 'Bugfix', prs: 16803, ai_pct: 22.3 },
            { type: 'Improvement', prs: 266, ai_pct: 16.5 },
            { type: 'Docs', prs: 5689, ai_pct: 13.2 },
            { type: 'Chore', prs: 10820, ai_pct: 12.9 },
            { type: 'CI', prs: 705, ai_pct: 9.9 }
        ];

        charts.prType = new Chart(document.getElementById('prTypeChart'), {
            type: 'bar',
            data: {
                labels: prTypeData.map(d => d.type),
                datasets: [{
                    label: 'AI Adoption %',
                    data: prTypeData.map(d => d.ai_pct),
                    backgroundColor: 'rgba(168, 85, 247, 0.7)',
                    borderColor: '#a855f7',
                    borderWidth: 1,
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'AI Adoption by PR Type', color: colors.text },
                    datalabels: {
                        display: true,
                        anchor: 'end',
                        align: 'top',
                        color: colors.text,
                        font: { weight: 'bold' },
                        formatter: (v) => v.toFixed(1) + '%'
                    }
                },
                scales: {
                    x: { ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { ticks: { color: colors.text }, grid: { color: colors.grid }, max: 40 }
                }
            }
        });

        // Tech Category Chart
        const techCategoryData = [
            { tech: 'Mobile', prs: 118, ai_pct: 42.4 },
            { tech: 'Test', prs: 697, ai_pct: 33.0 },
            { tech: 'Frontend', prs: 26848, ai_pct: 27.6 },
            { tech: 'Docs', prs: 440, ai_pct: 26.8 },
            { tech: 'Backend', prs: 26318, ai_pct: 20.8 },
            { tech: 'Data', prs: 754, ai_pct: 17.9 },
            { tech: 'DevOps', prs: 8457, ai_pct: 15.6 }
        ];

        charts.techCategory = new Chart(document.getElementById('techCategoryChart'), {
            type: 'bar',
            data: {
                labels: techCategoryData.map(d => d.tech),
                datasets: [{
                    label: 'AI Adoption %',
                    data: techCategoryData.map(d => d.ai_pct),
                    backgroundColor: 'rgba(34, 197, 94, 0.7)',
                    borderColor: '#22c55e',
                    borderWidth: 1,
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'AI Adoption by Technology Category', color: colors.text },
                    datalabels: {
                        display: true,
                        anchor: 'end',
                        align: 'top',
                        color: colors.text,
                        font: { weight: 'bold' },
                        formatter: (v) => v.toFixed(1) + '%'
                    }
                },
                scales: {
                    x: { ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { ticks: { color: colors.text }, grid: { color: colors.grid }, max: 50 }
                }
            }
        });

        // PR Size Chart
        const prSizeData = [
            { size: 'XS (0-10)', prs: 12683, ai_pct: 17.8 },
            { size: 'S (11-50)', prs: 12008, ai_pct: 20.3 },
            { size: 'M (51-200)', prs: 12362, ai_pct: 21.3 },
            { size: 'L (201-500)', prs: 6955, ai_pct: 23.6 },
            { size: 'XL (501+)', prs: 9868, ai_pct: 26.0 }
        ];

        charts.prSize = new Chart(document.getElementById('prSizeChart'), {
            type: 'bar',
            data: {
                labels: prSizeData.map(d => d.size),
                datasets: [{
                    label: 'AI Adoption %',
                    data: prSizeData.map(d => d.ai_pct),
                    backgroundColor: 'rgba(249, 115, 22, 0.7)',
                    borderColor: '#f97316',
                    borderWidth: 1,
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'AI Adoption by PR Size (Lines Changed)', color: colors.text },
                    datalabels: {
                        display: true,
                        anchor: 'end',
                        align: 'top',
                        color: colors.text,
                        font: { weight: 'bold' },
                        formatter: (v) => v.toFixed(1) + '%'
                    }
                },
                scales: {
                    x: { ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { ticks: { color: colors.text }, grid: { color: colors.grid }, max: 35 }
                }
            }
        });

        // Team Structure Chart
        const teamStructureData = [
            { level: 'High (70%+)', teams: 9, ai_pct: 29.2, contributors: 66 },
            { level: 'Medium (40-70%)', teams: 9, ai_pct: 22.4, contributors: 255 },
            { level: 'Low (<40%)', teams: 7, ai_pct: 19.2, contributors: 452 }
        ];

        charts.teamStructure = new Chart(document.getElementById('teamStructureChart'), {
            type: 'bar',
            data: {
                labels: teamStructureData.map(d => d.level),
                datasets: [{
                    label: 'AI Adoption %',
                    data: teamStructureData.map(d => d.ai_pct),
                    backgroundColor: ['rgba(34, 197, 94, 0.7)', 'rgba(234, 179, 8, 0.7)', 'rgba(99, 102, 241, 0.7)'],
                    borderColor: ['#22c55e', '#eab308', '#6366f1'],
                    borderWidth: 1,
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: 'AI Adoption by Team Concentration (% PRs from Top 5)', color: colors.text },
                    tooltip: {
                        callbacks: {
                            afterLabel: (ctx) => {
                                const d = teamStructureData[ctx.dataIndex];
                                return `${d.teams} teams, ~${d.contributors} contributors avg`;
                            }
                        }
                    },
                    datalabels: {
                        display: true,
                        anchor: 'end',
                        align: 'top',
                        color: colors.text,
                        font: { weight: 'bold', size: 14 },
                        formatter: (v) => v.toFixed(1) + '%'
                    }
                },
                scales: {
                    x: { ticks: { color: colors.text }, grid: { color: colors.grid } },
                    y: { ticks: { color: colors.text }, grid: { color: colors.grid }, max: 35 }
                }
            }
        });

        // Alpine.js Sortable Table Component
        function teamTable() {
            return {
                data: [],
                sortBy: 'ai_pct',
                sortDir: 'desc',
                currentPage: 1,
                perPage: 20,

                init() {
                    this.data = [...teamData];
                    this.sortData();
                },

                get sortedData() {
                    return [...this.data].sort((a, b) => {
                        let aVal = a[this.sortBy];
                        let bVal = b[this.sortBy];

                        // Handle nulls - push to end
                        if (aVal === null) return 1;
                        if (bVal === null) return -1;

                        // String comparison for team names
                        if (this.sortBy === 'team') {
                            return this.sortDir === 'asc'
                                ? aVal.localeCompare(bVal)
                                : bVal.localeCompare(aVal);
                        }

                        // Numeric comparison
                        return this.sortDir === 'asc' ? aVal - bVal : bVal - aVal;
                    });
                },

                get totalPages() {
                    return Math.ceil(this.data.length / this.perPage);
                },

                get paginatedData() {
                    const start = (this.currentPage - 1) * this.perPage;
                    return this.sortedData.slice(start, start + this.perPage);
                },

                sort(column) {
                    if (this.sortBy === column) {
                        this.sortDir = this.sortDir === 'asc' ? 'desc' : 'asc';
                    } else {
                        this.sortBy = column;
                        this.sortDir = column === 'team' ? 'asc' : 'desc';
                    }
                    this.currentPage = 1; // Reset to first page on sort
                },

                sortData() {
                    // Initial sort handled by getter
                },

                prevPage() {
                    if (this.currentPage > 1) this.currentPage--;
                },

                nextPage() {
                    if (this.currentPage < this.totalPages) this.currentPage++;
                }
            };
        }

        // TOC toggle for mobile with overlay
        function toggleToc() {
            const toc = document.getElementById('toc');
            const isOpen = toc.classList.toggle('show');
            document.body.classList.toggle('toc-open', isOpen);

            // Update toggle button icon
            const toggle = document.getElementById('toc-toggle');
            toggle.textContent = isOpen ? '‚úï' : '‚ò∞';
        }
        window.toggleToc = toggleToc;

        // Close TOC when clicking a link (mobile)
        document.querySelectorAll('.toc-sidebar a').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth < 1200) {
                    document.getElementById('toc').classList.remove('show');
                    document.body.classList.remove('toc-open');
                    document.getElementById('toc-toggle').textContent = '‚ò∞';
                }
            });
        });

        // Close TOC when clicking overlay
        document.addEventListener('click', (e) => {
            const toc = document.getElementById('toc');
            const toggle = document.getElementById('toc-toggle');
            if (window.innerWidth < 1200 &&
                toc.classList.contains('show') &&
                !toc.contains(e.target) &&
                !toggle.contains(e.target)) {
                toc.classList.remove('show');
                document.body.classList.remove('toc-open');
                toggle.textContent = '‚ò∞';
            }
        });

        // Scroll spy for TOC highlighting
        const sections = document.querySelectorAll('section[id]');
        const tocLinks = document.querySelectorAll('.toc-sidebar a');

        function highlightToc() {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (scrollY >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        }

        window.addEventListener('scroll', highlightToc);
        highlightToc();

        // Reading Progress Bar
        const progressBar = document.getElementById('reading-progress');
        function updateProgress() {
            const scrollTop = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (scrollTop / docHeight) * 100;
            progressBar.style.width = progress + '%';
        }
        window.addEventListener('scroll', updateProgress);
        updateProgress();

        // Back to Top Button
        const backToTop = document.getElementById('back-to-top');
        function toggleBackToTop() {
            if (window.scrollY > 400) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        }
        window.addEventListener('scroll', toggleBackToTop);
        backToTop.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
</body>
</html>
