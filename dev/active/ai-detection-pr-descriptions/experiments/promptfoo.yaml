# Auto-generated by: python manage.py export_prompts
# Prompt version: 6.2.0
# DO NOT EDIT - regenerate with export_prompts command

description: AI Detection Prompt Evaluation (v6.2.0) - Auto-generated
providers:
- id: groq:llama-3.3-70b-versatile
  label: Llama-3.3-70B
  config:
    temperature: 0
    max_tokens: 800
    response_format:
      type: json_object
- id: groq:openai/gpt-oss-20b
  label: GPT-OSS-20B
  config:
    temperature: 0
    max_tokens: 800
    include_reasoning: false
    response_format:
      type: json_object
prompts:
- id: v6.2.0
  raw: |-
    [
      {"role": "system", "content": "{{system_prompt}}"},
      {"role": "user", "content": "{{user_prompt}}"}
    ]
defaultTest:
  vars:
    system_prompt: file://prompts/v6.2.0-system.txt
    user_prompt: |-
      Analyze this pull request:

      (No PR data provided)
tests:
- description: '[pos_cursor_explicit] Cursor IDE mentioned explicitly in AI Disclosure
    section'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add user profile feature

      Description:
      ## Summary
      Added new feature.

      ## AI Disclosure
      Used Cursor IDE for implementation.
  assert:
  - type: is-json
  - &id001
    type: javascript
    value: typeof JSON.parse(output).ai === 'object' && typeof JSON.parse(output).tech
      === 'object' && typeof JSON.parse(output).summary === 'object' && typeof JSON.parse(output).health
      === 'object'
    description: Response has required sections (ai, tech, summary, health)
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("cursor")
  - type: javascript
    value: JSON.parse(output).ai.confidence >= 0.8
- description: '[pos_claude_code_signature] Claude Code emoji signature with Co-Authored-By'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Fix login validation bug

      Description:
      Fix login bug.

      ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

      Co-Authored-By: Claude <noreply@anthropic.com>
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("claude")
  - type: javascript
    value: JSON.parse(output).ai.confidence >= 0.9
- description: '[pos_copilot_mention] GitHub Copilot mentioned in description'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Refactor authentication module

      Description:
      Refactored the auth module with help from GitHub Copilot.

      This change improves security.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("copilot")
  - type: javascript
    value: JSON.parse(output).ai.confidence >= 0.7
- description: '[pos_multiple_tools] Multiple AI tools mentioned'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Implement new dashboard

      Description:
      ## AI Tools Used
      - Cursor for code generation
      - Claude for architecture review

      Built the new analytics dashboard.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("cursor")
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("claude")
  - type: javascript
    value: JSON.parse(output).ai.confidence >= 0.85
- description: '[pos_aider_commit] Aider commit message pattern'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add API rate limiting

      Description:
      Added rate limiting to API endpoints.

      Commit message: aider: Implement rate limiting middleware
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("aider")
  - type: javascript
    value: JSON.parse(output).ai.confidence >= 0.8
- description: '[pos_windsurf_codeium] Windsurf/Codeium IDE mentioned'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Update payment flow

      Description:
      Updated payment processing.

      ## Development
      Used Windsurf IDE with Codeium for autocomplete.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("windsurf")
  - type: javascript
    value: JSON.parse(output).ai.confidence >= 0.75
- description: '[neg_explicit_no_ai] Explicit ''No AI was used'' denial'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Fix API timeout

      Description:
      ## Changes
      Bug fix.

      ## AI Disclosure
      No AI was used.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
- description: '[neg_ai_as_product] AI mentioned as product feature, not authoring
    tool'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add Gemini API integration

      Description:
      Added Gemini API integration for AI-powered search.

      This PR adds support for Google's Gemini model.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: '!JSON.parse(output).ai.tools.includes("gemini")'
- description: '[neg_empty_body] Empty PR body - no evidence either way'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Minor fix

      Description:
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
- description: '[neg_human_only] Standard PR with no AI mentions'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Fix null pointer exception in UserService

      Description:
      ## Problem
      Users were getting 500 errors on profile page.

      ## Solution
      Added null check before accessing user preferences.

      ## Testing
      Added unit test for the edge case.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
- description: '[neg_claude_product_discussion] Discussing Claude as product, not
    using it'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add Claude model selector

      Description:
      Added dropdown to select between Claude Opus and Sonnet models.

      Users can now choose which Claude model to use for their queries.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: '!JSON.parse(output).ai.tools.includes("claude")'
- description: '[neg_ai_none_disclosure] AI Disclosure section with ''None'''
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Update dependencies

      Description:
      ## Changes
      Bumped package versions.

      ## AI Disclosure
      None
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
- description: '[neg_ai_na_disclosure] AI Disclosure section with ''N/A'''
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Fix typo in README

      Description:
      ## Changes
      Fixed spelling error.

      ## AI Disclosure
      N/A
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
- description: '[edge_brainstorm_only] AI used only for brainstorming, not coding'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: New feature architecture

      Description:
      ## Overview
      New event system design.

      ## AI Disclosure
      Used ChatGPT for initial brainstorming of the architecture. All code was written manually.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("chatgpt")
- description: '[edge_review_only] AI used only for code review'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Optimize database queries

      Description:
      Optimized slow queries.

      ## AI Disclosure
      Code was reviewed by Claude for potential issues.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("claude")
- description: '[edge_partial_ai] Some code AI-generated, some manual'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add data export feature

      Description:
      ## Changes
      - Export to CSV (AI-generated with Cursor)
      - Export to PDF (manual implementation)

      Mixed AI and manual work.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("cursor")
- description: '[tech_python_django] Python/Django backend PR'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add user authentication API

      Description:
      Added Django REST Framework endpoints for user auth.

      Files: views.py, serializers.py, urls.py
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).tech.categories.includes("backend")
  - type: javascript
    value: JSON.parse(output).summary.type === "feature"
- description: '[tech_react_frontend] React frontend PR'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add dark mode toggle

      Description:
      Implemented dark mode using React context and Tailwind CSS.

      Files: ThemeContext.tsx, App.tsx, tailwind.config.js
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).tech.categories.includes("frontend")
  - type: javascript
    value: JSON.parse(output).summary.type === "feature"
- description: '[tech_devops_docker] DevOps/Docker PR'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add Docker Compose for local dev

      Description:
      Added docker-compose.yml for local development environment.

      Includes PostgreSQL, Redis, and the app container.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).tech.categories.includes("devops")
  - type: javascript
    value: JSON.parse(output).summary.type === "chore"
- description: '[tech_fullstack] Full-stack PR touching multiple areas'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add real-time notifications

      Description:
      ## Backend
      - WebSocket endpoint in Django Channels
      - Redis pub/sub

      ## Frontend
      - React notification component
      - Toast animations with Framer Motion
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).tech.categories.includes("backend")
  - type: javascript
    value: JSON.parse(output).tech.categories.includes("frontend")
  - type: javascript
    value: JSON.parse(output).summary.type === "feature"
- description: '[type_bugfix] Clear bugfix PR'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Fix: Null pointer in payment processing

      Description:
      ## Problem
      Payments failing with NullPointerException.

      ## Root Cause
      Missing null check on optional field.

      ## Fix
      Added null check before accessing payment method.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).summary.type === "bugfix"
- description: '[type_refactor] Code refactoring PR'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Refactor: Extract UserService from monolith

      Description:
      Extracted user-related logic into dedicated service class.

      No behavior changes, just code organization.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).summary.type === "refactor"
- description: '[type_docs] Documentation-only PR'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Update API documentation

      Description:
      Updated README with new API endpoints.

      Added examples for authentication flow.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).summary.type === "docs"
- description: '[type_test] Test-only PR'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add unit tests for PaymentService

      Description:
      Added comprehensive test coverage for payment processing.

      - 15 new test cases
      - Edge cases for refunds
      - Mock Stripe API responses
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).summary.type === "test"
- description: '[type_ci] CI/CD pipeline PR'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Add GitHub Actions workflow

      Description:
      Added CI pipeline for automated testing.

      - Run tests on PR
      - Build Docker image
      - Deploy to staging on merge
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).summary.type === "ci"
- description: '[health_slow_review] Large PR with slow review time and multiple rounds'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Implement user notification system
      Author: John Developer
      State: merged
      Labels: feature, backend, frontend

      Files changed: 12
      Lines: +450/-32
      Files: apps/notifications/models.py, apps/notifications/consumers.py, apps/notifications/routing.py, frontend/src/components/NotificationBell.tsx, frontend/src/hooks/useWebSocket.ts

      Cycle time: 96.5 hours
      Time to first review: 48.0 hours
      Comments: 18
      Commits after first review: 5
      Review rounds: 3

      Repository languages: Python, TypeScript, JavaScript

      Recent commits:
      - Add notification models
      - Implement WebSocket consumer
      - Fix review feedback: add rate limiting
      - Address review: improve error handling
      - ðŸ¤– Generated with Cursor

      Reviewers: Sarah Tech Lead, Bob Backend

      Review comments:
      - Need rate limiting for notifications
      - Consider Redis for scalability

      Description:
      ## Summary
      Added real-time notifications with WebSocket support.

      ## AI Disclosure
      Used Cursor for boilerplate code generation.

      ## Changes
      - WebSocket server
      - React notification component
      - Database models for notification queue
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("cursor")
  - type: javascript
    value: JSON.parse(output).tech.categories.includes("backend")
  - type: javascript
    value: JSON.parse(output).tech.categories.includes("frontend")
  - type: javascript
    value: JSON.parse(output).summary.type === "feature"
- description: '[health_fast_small] Small bugfix with fast review and minimal friction'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Fix null check in payment validation
      Author: Alice Engineer
      State: merged
      Labels: bugfix, payments

      Jira: PAY-1234

      Files changed: 1
      Lines: +5/-2
      Files: apps/payments/validators.py

      Cycle time: 2.5 hours
      Time to first review: 0.5 hours
      Comments: 1
      Review rounds: 1

      Repository languages: Python

      Recent commits:
      - Fix null check in payment validation

      Reviewers: Bob Backend

      Description:
      ## Problem
      Payment validation was failing for users without saved cards.

      ## Solution
      Added null check before accessing card details.

      ## AI Disclosure
      N/A
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).tech.categories.includes("backend")
  - type: javascript
    value: JSON.parse(output).summary.type === "bugfix"
- description: '[health_hotfix_revert] Hotfix after a revert - high risk indicator'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: Hotfix: Restore payment processing after revert
      Author: DevOps Engineer
      State: merged
      Labels: hotfix, critical, payments
      Hotfix: Yes

      Linked issues: #1234

      Files changed: 2
      Lines: +15/-3
      Files: apps/payments/currency.py, apps/payments/tests/test_currency.py

      Cycle time: 1.0 hours
      Time to first review: 0.2 hours
      Comments: 5
      Commits after first review: 1
      Review rounds: 1

      Repository languages: Python

      Recent commits:
      - Hotfix: Fix currency conversion edge case
      - Add regression test

      Reviewers: CTO, Backend Lead

      Description:
      ## Context
      Previous PR broke payment processing and was reverted.

      ## Fix
      Properly handle edge case in currency conversion.

      ## Testing
      Tested with all supported currencies.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === false
  - type: javascript
    value: JSON.parse(output).tech.categories.includes("backend")
  - type: javascript
    value: JSON.parse(output).summary.type === "bugfix"
- description: '[health_draft_wip] Draft PR with work in progress - incomplete state'
  vars:
    user_prompt: |-
      Analyze this pull request:

      Title: WIP: Add GraphQL API layer
      Author: Junior Dev
      State: open
      Labels: wip, api
      Draft: Yes

      Milestone: Q1 2025 Release

      Files changed: 5
      Lines: +200/-0
      Files: apps/graphql/schema.py, apps/graphql/types.py, apps/graphql/queries.py

      Repository languages: Python

      Recent commits:
      - Initial GraphQL setup
      - Add user type schema
      - aider: Implement query resolvers

      Description:
      ## Draft
      Work in progress - not ready for review.

      ## TODO
      - [x] Setup GraphQL schema
      - [ ] Add resolvers
      - [ ] Add authentication

      Using Claude for schema design.
  assert:
  - type: is-json
  - *id001
  - type: javascript
    value: JSON.parse(output).ai.is_assisted === true
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("claude")
  - type: javascript
    value: JSON.parse(output).ai.tools.includes("aider")
  - type: javascript
    value: JSON.parse(output).tech.categories.includes("backend")
  - type: javascript
    value: JSON.parse(output).summary.type === "feature"
outputPath: ./results/promptfoo-results.json
evaluateOptions:
  maxConcurrency: 5
  showProgressBar: true
