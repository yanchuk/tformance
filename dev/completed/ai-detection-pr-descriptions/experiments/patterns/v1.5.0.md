# AI Detection Patterns v1.5.0

## Changelog
- v1.5.0 (2025-12-25): Added GPT/ChatGPT, Warp AI; fixed Gemini false positives
- v1.4.0 (2025-12-24): Added Cursor, Claude model, indirect AI patterns
- v1.3.0: Initial patterns

---

## Changes from v1.4.0

### Added: GPT/ChatGPT Patterns
```python
(r"\bchatgpt\b", "chatgpt"),
(r"\bgpt-?4o?\b", "chatgpt"),
(r"\bgpt-?5\b", "chatgpt"),
(r"\bused\s+openai\b", "chatgpt"),
(r"\busing\s+openai\b", "chatgpt"),
(r"\bwith\s+openai\b", "chatgpt"),
```

### Added: Warp Terminal AI Patterns
```python
(r"\bwarp\s+ai\b", "warp"),
(r"\bwarp\b.*\bai\b", "warp"),
(r"\bwarp\s+terminal\b.*\bai\b", "warp"),
```

### Fixed: Gemini Patterns (Avoiding False Positives)

**Before (v1.4.0):**
```python
(r"\bgemini\b", "gemini"),  # Too broad - matched "Gemini API"
```

**After (v1.5.0):**
```python
(r"\bused\s+gemini\b", "gemini"),
(r"\bgemini\s+used\b", "gemini"),
(r"\bgemini\s+(?:helped|assisted)\b", "gemini"),
(r"\bwith\s+gemini\b", "gemini"),
(r"\busing\s+gemini\b", "gemini"),
```

Now requires usage context (used, using, with, helped) to avoid matching product/API mentions.

---

## Full Pattern List

### Claude Code
```python
(r"generated\s+with\s+\[?claude\s*code\]?", "claude_code"),
(r"ðŸ¤–\s*generated\s+with\s+.*claude", "claude_code"),
(r"claude\.com/claude-code", "claude_code"),
(r"\bclaude-code\b", "claude_code"),
(r"\bclaude\s+code\b", "claude_code"),
```

### Claude Models
```python
(r"\bclaude\s+(?:opus|sonnet|haiku)\b", "claude"),
(r"\bclaude\s*\(?\s*\d+(?:\.\d+)?\s*\)?\s*(?:opus|sonnet|haiku)", "claude"),
(r"\bclaude\s+\d+(?:\.\d+)?\s+(?:opus|sonnet|haiku)", "claude"),
(r"\bclaude\s*\(\s*(?:opus|sonnet|haiku)", "claude"),
(r"\b(?:sonnet|opus)\s+\d+(?:\.\d+)?", "claude"),
(r"\b(?:with|and)\s+claude\b", "claude"),
(r"\bclaude[- ]?\d+(?:\.\d+)?\b", "claude"),
```

### GitHub Copilot
```python
(r"generated\s+by\s+.*copilot", "copilot"),
(r"github\s+copilot", "copilot"),
(r"copilot\s+generated", "copilot"),
(r"\bcopilot\s+used\b", "copilot"),
```

### Cursor AI
```python
(r"generated\s+by\s+cursor", "cursor"),
(r"cursor\s+ai", "cursor"),
(r"cursor\.sh", "cursor"),
(r"\bcursor\s*\(", "cursor"),
(r"\bcursor\s+ide\b", "cursor"),
(r"\bcursor\s+auto[- ]?mode", "cursor"),
(r"\bused\s+cursor\b", "cursor"),
(r"\busing\s+cursor\b", "cursor"),
(r"\bwith\s+cursor\b", "cursor"),
(r"\bcursor\s+in\s+auto", "cursor"),
(r"\bcursor\s+(?:was\s+)?used\s+(?:for|to)", "cursor"),
(r"\bide:\s*cursor\b", "cursor"),
(r"\bcursor\s+for\b", "cursor"),
(r"\bcursor\s+autocompletions?\b", "cursor"),
(r"\bwritten\s+by\s+cursor\b", "cursor"),
```

### ChatGPT/OpenAI (NEW in v1.5.0)
```python
(r"\bchatgpt\b", "chatgpt"),
(r"\bgpt-?4o?\b", "chatgpt"),
(r"\bgpt-?5\b", "chatgpt"),
(r"\bused\s+openai\b", "chatgpt"),
(r"\busing\s+openai\b", "chatgpt"),
(r"\bwith\s+openai\b", "chatgpt"),
```

### Warp Terminal AI (NEW in v1.5.0)
```python
(r"\bwarp\s+ai\b", "warp"),
(r"\bwarp\b.*\bai\b", "warp"),
(r"\bwarp\s+terminal\b.*\bai\b", "warp"),
```

### Google Gemini (FIXED in v1.5.0)
```python
(r"\bused\s+gemini\b", "gemini"),
(r"\bgemini\s+used\b", "gemini"),
(r"\bgemini\s+(?:helped|assisted)\b", "gemini"),
(r"\bwith\s+gemini\b", "gemini"),
(r"\busing\s+gemini\b", "gemini"),
```

### Other Tools
```python
(r"generated\s+by\s+cody", "cody"),
(r"sourcegraph\s+cody", "cody"),
(r"generated\s+by\s+windsurf", "windsurf"),
(r"windsurf\s+ai", "windsurf"),
(r"generated\s+by\s+tabnine", "tabnine"),
(r"tabnine\s+ai", "tabnine"),
(r"codewhisperer", "codewhisperer"),
(r"amazon\s+q", "amazon_q"),
(r"generated\s+by\s+aider", "aider"),
(r"aider\.chat", "aider"),
(r"generated\s+by\s+devin", "devin"),
(r"created\s+by\s+devin", "devin"),
(r"devin\.ai", "devin"),
(r"devin\s+ai", "devin"),
```

### Generic AI
```python
(r"ai[- ]?generated", "ai_generic"),
(r"ai[- ]?assisted", "ai_generic"),
(r"llm[- ]?generated", "ai_generic"),
(r"written\s+by\s+ai", "ai_generic"),
(r"\bai\s+was\s+used\s+(?:to|for)\b", "ai_generic"),
(r"\bused\s+ai\s+(?:for|to)\b", "ai_generic"),
(r"\bwith\s+ai\s+assistance\b", "ai_generic"),
(r"\bai\s+helped?\s+(?:with|to)\b", "ai_generic"),
```

---

## Test Coverage

107 tests total:
- 5 GPT/ChatGPT pattern tests
- 2 Warp AI pattern tests
- 4 Gemini pattern tests (including false positive prevention)

---

## Detection Stats (Expected)

After backfill with v1.5.0:
- Gumroad: ~30% (vs 24.4% with v1.4.0)
- Improved: GPT, Warp, better Gemini precision
