{% load i18n %}
<tr id="member-row-{{ member.id }}" class="hover:bg-deep/50 transition-colors">
  <td class="px-4 py-3 border-b border-elevated/50">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-full bg-elevated flex items-center justify-center overflow-hidden">
        {% if member.avatar_url %}
          <img src="{{ member.avatar_url }}" alt="{{ member.display_name }}" class="w-full h-full object-cover">
        {% else %}
          <span class="text-sm font-medium text-base-content/80">{{ member.initials }}</span>
        {% endif %}
      </div>
      <div class="font-medium text-base-content">{{ member.display_name }}</div>
    </div>
  </td>
  <td class="px-4 py-3 border-b border-elevated/50">
    <span class="text-sm font-mono text-base-content/80">{{ member.github_username }}</span>
  </td>
  <td class="px-4 py-3 border-b border-elevated/50">
    {% if member.email %}
      <span class="text-sm text-base-content/80">{{ member.email }}</span>
    {% else %}
      <span class="text-sm text-base-content/60 italic">{% translate "Not available" %}</span>
    {% endif %}
  </td>
  <td class="px-4 py-3 border-b border-elevated/50">
    {% if member.is_active %}
      <span class="app-badge app-badge-success">{% translate "Active" %}</span>
    {% else %}
      <span class="app-badge app-badge-default">{% translate "Inactive" %}</span>
    {% endif %}
  </td>
  {% if request.team_membership.role == 'admin' %}
    <td class="px-4 py-3 border-b border-elevated/50 text-right">
      <form method="post"
            action="{% url 'integrations:github_member_toggle' member_id=member.id %}"
            hx-post="{% url 'integrations:github_member_toggle' member_id=member.id %}"
            hx-target="#member-row-{{ member.id }}"
            hx-swap="outerHTML">
        {% csrf_token %}
        <button type="submit" class="app-btn-ghost app-btn-sm">
          {% if member.is_active %}
            {% translate "Deactivate" %}
          {% else %}
            {% translate "Activate" %}
          {% endif %}
        </button>
      </form>
    </td>
  {% endif %}
</tr>
