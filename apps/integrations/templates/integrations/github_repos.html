{% extends "web/app/app_base.html" %}
{% load static %}
{% load i18n %}

{% block app %}
<section class="app-card">
  <div class="app-card-header">
    <div>
      <a href="{% url 'integrations:integrations_home' %}"
         class="inline-flex items-center gap-2 text-sm text-base-content/70 hover:text-base-content transition-colors mb-2">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
        {% translate "Back to Integrations" %}
      </a>
      <h1 class="app-page-title">{% translate "GitHub Repositories" %}</h1>
      <p class="app-page-subtitle">{% translate "Repositories from your GitHub organization." %}</p>
    </div>
  </div>

  {% if repos %}
    <div class="overflow-x-auto">
      <table class="app-table table-fixed w-full">
        <thead>
          <tr>
            <th class="w-48">{% translate "Name" %}</th>
            <th class="min-w-0">{% translate "Description" %}</th>
            <th class="w-40">{% translate "Status" %}</th>
            {% if request.team_membership.role == 'admin' %}
              <th class="w-44 text-right">{% translate "Actions" %}</th>
            {% endif %}
          </tr>
        </thead>
        <tbody>
          {% for repo in repos %}
            {% include "integrations/components/repo_card.html" %}
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="mt-4 text-sm text-base-content/70">
      {% blocktranslate count counter=repos|length %}
        Showing {{ counter }} repository
      {% plural %}
        Showing {{ counter }} repositories
      {% endblocktranslate %}
    </div>
  {% else %}
    {% include "web/components/empty_state.html" with icon="folder" title="No repositories found" description="No repositories were found in your GitHub organization." %}
  {% endif %}
</section>
{% endblock %}
