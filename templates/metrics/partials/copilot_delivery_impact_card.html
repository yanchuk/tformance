{% load i18n %}
{% if comparison_data %}
<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
  <!-- Copilot PRs Count -->
  <div class="stat bg-base-200 rounded-lg p-4">
    <div class="stat-title text-xs">{% trans "Copilot PRs" %}</div>
    <div class="stat-value text-2xl">{{ comparison_data.copilot_prs.count }}</div>
  </div>
  <!-- Non-Copilot PRs Count -->
  <div class="stat bg-base-200 rounded-lg p-4">
    <div class="stat-title text-xs">{% trans "Non-Copilot PRs" %}</div>
    <div class="stat-value text-2xl">{{ comparison_data.non_copilot_prs.count }}</div>
  </div>
  <!-- Cycle Time Improvement -->
  <div class="stat bg-base-200 rounded-lg p-4">
    <div class="stat-title text-xs">{% trans "Cycle Time Impact" %}</div>
    <div class="stat-value text-2xl tabular-nums {% if comparison_data.improvement.cycle_time_percent < 0 %}text-success{% elif comparison_data.improvement.cycle_time_percent > 0 %}text-error{% endif %}">
      {{ comparison_data.improvement.cycle_time_percent }}%
    </div>
  </div>
  <!-- Review Time Improvement -->
  <div class="stat bg-base-200 rounded-lg p-4">
    <div class="stat-title text-xs">{% trans "Review Time Impact" %}</div>
    <div class="stat-value text-2xl tabular-nums {% if comparison_data.improvement.review_time_percent < 0 %}text-success{% elif comparison_data.improvement.review_time_percent > 0 %}text-error{% endif %}">
      {{ comparison_data.improvement.review_time_percent }}%
    </div>
  </div>
</div>

{% if not comparison_data.sample_sufficient %}
<div class="alert alert-info mt-4">
  <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-5 w-5" fill="none" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
  </svg>
  <span class="text-sm">{% trans "Sample size is small. Collect more data for reliable comparison." %}</span>
</div>
{% endif %}
{% else %}
<div class="text-center py-8 text-base-content/60">
  <p class="text-sm">{% trans "No Copilot delivery data available" %}</p>
  <p class="text-xs mt-1">{% trans "Enable Copilot feature flags to see comparison data" %}</p>
</div>
{% endif %}
