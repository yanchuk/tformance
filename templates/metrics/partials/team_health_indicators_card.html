{% load i18n number_filters %}
{% if indicators %}
<div class="space-y-3">
  <!-- Throughput -->
  <div class="flex items-center justify-between p-3 bg-base-200 rounded-lg">
    <div class="flex items-center gap-3">
      <div class="w-3 h-3 rounded-full {% if indicators.throughput.status == 'green' %}bg-success{% elif indicators.throughput.status == 'yellow' %}bg-warning{% else %}bg-error{% endif %}"></div>
      <div>
        <div class="text-sm font-medium">Throughput</div>
        <div class="text-xs text-base-content/60">PRs merged per week</div>
      </div>
    </div>
    <div class="text-right">
      <div class="text-lg font-semibold tabular-nums">{{ indicators.throughput.value|floatformat:1 }}</div>
      <div class="text-xs">
        {% if indicators.throughput.trend == "up" %}
        <span class="text-success">&#9650; Up</span>
        {% elif indicators.throughput.trend == "down" %}
        <span class="text-error">&#9660; Down</span>
        {% else %}
        <span class="text-base-content/60">&#8212; Stable</span>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- Cycle Time -->
  <div class="flex items-center justify-between p-3 bg-base-200 rounded-lg">
    <div class="flex items-center gap-3">
      <div class="w-3 h-3 rounded-full {% if indicators.cycle_time.status == 'green' %}bg-success{% elif indicators.cycle_time.status == 'yellow' %}bg-warning{% else %}bg-error{% endif %}"></div>
      <div>
        <div class="text-sm font-medium">Cycle Time</div>
        <div class="text-xs text-base-content/60">Average hours to merge</div>
      </div>
    </div>
    <div class="text-right">
      <div class="text-lg font-semibold tabular-nums">{{ indicators.cycle_time.value|floatformat:1 }}h</div>
      <div class="text-xs">
        {% if indicators.cycle_time.trend == "down" %}
        <span class="text-success">&#9660; Improving</span>
        {% elif indicators.cycle_time.trend == "up" %}
        <span class="text-error">&#9650; Slowing</span>
        {% else %}
        <span class="text-base-content/60">&#8212; Stable</span>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- Quality -->
  <div class="flex items-center justify-between p-3 bg-base-200 rounded-lg">
    <div class="flex items-center gap-3">
      <div class="w-3 h-3 rounded-full {% if indicators.quality.status == 'green' %}bg-success{% elif indicators.quality.status == 'yellow' %}bg-warning{% else %}bg-error{% endif %}"></div>
      <div>
        <div class="text-sm font-medium">Quality</div>
        <div class="text-xs text-base-content/60">Revert rate</div>
      </div>
    </div>
    <div class="text-right">
      <div class="text-lg font-semibold tabular-nums">{{ indicators.quality.value|floatformat:1 }}%</div>
      <div class="text-xs">
        {% if indicators.quality.trend == "down" %}
        <span class="text-success">&#9660; Improving</span>
        {% elif indicators.quality.trend == "up" %}
        <span class="text-error">&#9650; Rising</span>
        {% else %}
        <span class="text-base-content/60">&#8212; Stable</span>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- Review Bottleneck -->
  <div class="flex items-center justify-between p-3 bg-base-200 rounded-lg">
    <div class="flex items-center gap-3">
      <div class="w-3 h-3 rounded-full {% if indicators.review_bottleneck.status == 'green' %}bg-success{% else %}bg-error{% endif %}"></div>
      <div>
        <div class="text-sm font-medium">Review Bottleneck</div>
        <div class="text-xs text-base-content/60">Reviewer overload detection</div>
      </div>
    </div>
    <div class="text-right">
      {% if indicators.review_bottleneck.detected %}
      <div class="text-sm font-semibold text-error">Detected</div>
      {% if indicators.review_bottleneck.reviewer %}
      <div class="text-xs text-base-content/60">{{ indicators.review_bottleneck.reviewer }}</div>
      {% endif %}
      {% else %}
      <div class="text-sm font-semibold text-success">None</div>
      {% endif %}
    </div>
  </div>

  <!-- AI Adoption -->
  <div class="flex items-center justify-between p-3 bg-base-200 rounded-lg">
    <div class="flex items-center gap-3">
      <div class="w-3 h-3 rounded-full {% if indicators.ai_adoption.status == 'green' %}bg-success{% elif indicators.ai_adoption.status == 'yellow' %}bg-warning{% else %}bg-error{% endif %}"></div>
      <div>
        <div class="text-sm font-medium">AI Adoption</div>
        <div class="text-xs text-base-content/60">AI-assisted PRs</div>
      </div>
    </div>
    <div class="text-right">
      <div class="text-lg font-semibold tabular-nums">{{ indicators.ai_adoption.value|floatformat:0 }}%</div>
      <div class="text-xs">
        {% if indicators.ai_adoption.trend == "up" %}
        <span class="text-success">&#9650; Growing</span>
        {% elif indicators.ai_adoption.trend == "down" %}
        <span class="text-warning">&#9660; Declining</span>
        {% else %}
        <span class="text-base-content/60">&#8212; Stable</span>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% else %}
<div class="text-center py-8 text-base-content/60">
  <p class="text-sm">No team health data available</p>
  <p class="text-xs mt-1">Start merging PRs to see team health indicators</p>
</div>
{% endif %}
