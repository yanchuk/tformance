{% load i18n %}
{% load static %}
<section class="bg-base-100 flex items-center relative overflow-hidden">
  <!-- Subtle grid background -->
  <div class="absolute inset-0 bg-[linear-gradient(rgba(249,115,22,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(249,115,22,0.03)_1px,transparent_1px)] bg-[size:60px_60px]"></div>

  <div class="relative z-10 w-full max-w-6xl mx-auto px-4 py-12 md:py-16">
    <!-- Main Headline (moved above terminal) -->
    <div class="text-center">
      <!-- Category label -->
      <span class="inline-block px-3 py-1 text-sm font-mono text-accent-primary bg-accent-primary/10 rounded-full mb-6">
        Engineering Analytics + AI Impact
      </span>

      <h1 class="text-3xl md:text-5xl lg:text-6xl font-bold text-base-content leading-tight">
        Understand your team's velocity.<br class="hidden md:block"> See if AI tools are actually helping.
      </h1>

      <p class="mt-6 text-lg md:text-xl text-base-content/80 max-w-3xl mx-auto leading-relaxed">
        Connect GitHub. Get instant dashboards showing PR metrics, cycle time, and review load. Compare AI-assisted work vs traditional—with data, not gut feelings.
      </p>

      <!-- CTAs -->
      <div class="flex flex-col sm:flex-row justify-center gap-4 mt-8">
        <a href="{% url 'account_signup' %}"
           class="btn btn-lg bg-accent-primary hover:bg-orange-600 text-white font-semibold px-8 border-0">
          Start Free
        </a>
        <a href="#how-it-works"
           class="btn btn-lg btn-outline border-base-content/30 text-base-content/90 hover:bg-base-200 hover:border-base-content/50 px-8">
          See How It Works
        </a>
      </div>

      <!-- Trust indicators -->
      <div class="mt-6 flex flex-wrap justify-center items-center gap-6 text-sm text-base-content/80">
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-teal-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          <span>Free during Alpha</span>
        </div>
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-teal-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          <span>No credit card</span>
        </div>
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-teal-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          <span>5 min setup</span>
        </div>
      </div>
    </div>

    <!-- Terminal Window (now below headline) -->
    <div class="terminal-window max-w-4xl mx-auto mt-10"
         x-data="{
           lines: [],
           currentScenario: 0,
           scenarios: [
             [
               { type: 'command', text: 'tformance analyze --roi' },
               { type: 'blank', text: '' },
               { type: 'output', text: 'Analyzing engineering metrics for Q4...' },
               { type: 'output', text: 'AI-assisted PRs this quarter: 156 (43% of total)' },
               { type: 'output', text: 'AI-assisted PRs: 43% of total' },
               { type: 'output', text: 'Cycle time delta: AI PRs ship 1.8 days faster' },
               { type: 'blank', text: '' },
               { type: 'result', text: 'Verdict: AI PRs ship 1.8 days faster → ~$3,200/mo saved in dev time' }
             ],
             [
               { type: 'command', text: 'tformance compare --ai-vs-traditional' },
               { type: 'blank', text: '' },
               { type: 'output', text: 'Comparing last 30 days...' },
               { type: 'output', text: 'Developer sentiment: AI helps a lot - 87%' },
               { type: 'output', text: 'Actual cycle time change: +0.3 days (slightly slower)' },
               { type: 'output', text: 'Review rounds: AI PRs need 0.4 more iterations' },
               { type: 'blank', text: '' },
               { type: 'result', text: 'Verdict: Perception doesn\'t match data. Reviews are the bottleneck.' }
             ],
             [
               { type: 'command', text: 'tformance metrics --reviews' },
               { type: 'blank', text: '' },
               { type: 'output', text: 'Analyzing review patterns...' },
               { type: 'output', text: 'PR volume: +34% since AI adoption' },
               { type: 'output', text: 'Time to first review: 2.1 days (was 0.8 days)' },
               { type: 'output', text: 'Review queue depth: 18 PRs waiting' },
               { type: 'blank', text: '' },
               { type: 'result', text: 'Verdict: AI generates more code. Reviews can\'t keep up.' }
             ],
             [
               { type: 'command', text: 'tformance dashboard --team' },
               { type: 'blank', text: '' },
               { type: 'output', text: 'Loading team metrics...' },
               { type: 'output', text: 'PRs merged this month: 89' },
               { type: 'output', text: 'Median cycle time: 3.2 days' },
               { type: 'output', text: 'Top contributor: Sarah (23 PRs, 2.1 day avg)' },
               { type: 'blank', text: '' },
               { type: 'result', text: 'Verdict: Team velocity trending up. Review time is your bottleneck.' }
             ]
           ],
           showCursor: true,
           init() {
             this.runScenario();
           },
           async runScenario() {
             const scenario = this.scenarios[this.currentScenario];
             this.lines = [];
             for (let i = 0; i < scenario.length; i++) {
               await this.delay(i === 0 ? 500 : 300);
               this.lines.push(scenario[i]);
             }
             await this.delay(4000);
             this.currentScenario = (this.currentScenario + 1) % this.scenarios.length;
             this.runScenario();
           },
           delay(ms) {
             return new Promise(resolve => setTimeout(resolve, ms));
           }
         }">
      <!-- Terminal Header -->
      <div class="terminal-header">
        <div class="terminal-dot terminal-dot-red"></div>
        <div class="terminal-dot terminal-dot-yellow"></div>
        <div class="terminal-dot terminal-dot-green"></div>
        <span class="ml-4 text-base-content/80 text-sm font-mono">tformance</span>
      </div>

      <!-- Terminal Body -->
      <div class="terminal-body h-[240px] md:h-[260px] overflow-hidden">
        <template x-for="(line, index) in lines" :key="index">
          <div class="mb-1">
            <template x-if="line.type === 'command'">
              <div>
                <span class="terminal-prompt">$</span>
                <span class="text-base-content ml-2" x-text="line.text"></span>
              </div>
            </template>
            <template x-if="line.type === 'output'">
              <div class="text-base-content/80 pl-4" x-text="line.text"></div>
            </template>
            <template x-if="line.type === 'result'">
              <div class="text-accent-primary font-medium" x-text="line.text"></div>
            </template>
            <template x-if="line.type === 'blank'">
              <div class="h-4"></div>
            </template>
          </div>
        </template>
        <span x-show="showCursor && lines.length < scenarios[currentScenario].length" class="terminal-cursor"></span>
      </div>
    </div>
  </div>
</section>
